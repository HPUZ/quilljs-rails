!function(b,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):"object"==typeof exports?exports.Quill=c():b.Quill=c()}(this,function(){return function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,c),e.loaded=!0,e.exports}var b={};return c.m=a,c.c=b,c.p="",c(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){"use strict";function D(a){return a&&a.__esModule?a:{default:a}}var d=c(2),e=D(d),f=c(18),g=D(f),h=c(29),i=D(h),j=c(30),k=D(j),l=c(42),m=D(l),n=c(34),o=D(n),p=c(31),q=D(p),r=c(32),s=D(r),t=c(43),u=D(t),v=c(33),w=D(v),x=c(44),y=D(x),z=c(51),A=D(z),B=c(52),C=D(B);g.default.register({"blots/block":i.default,"blots/block/embed":h.BlockEmbed,"blots/break":k.default,"blots/container":m.default,"blots/cursor":o.default,"blots/embed":q.default,"blots/inline":s.default,"blots/scroll":u.default,"blots/text":w.default,"modules/clipboard":y.default,"modules/history":A.default,"modules/keyboard":C.default}),e.default.register(i.default,k.default,o.default,s.default,u.default,w.default),a.exports=g.default},function(a,b,c){"use strict";var d=c(3),e=c(7),f=c(12),g=c(13),h=c(14),i=c(15),j=c(16),k=c(17),l=c(8),m=c(10),n=c(11),o=c(9),p=c(6),q={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:d.default,Format:e.default,Leaf:f.default,Embed:j.default,Scroll:g.default,Block:i.default,Inline:h.default,Text:k.default,Attributor:{Attribute:l.default,Class:m.default,Style:n.default,Store:o.default}};Object.defineProperty(b,"__esModule",{value:!0}),b.default=q},function(a,b,c){"use strict";function i(a){var b=g.find(a);if(null==b)try{b=g.create(a)}catch(c){b=g.create(g.Scope.INLINE),[].slice.call(a.childNodes).forEach(function(a){b.domNode.appendChild(a)}),a.parentNode.replaceChild(b.domNode,a),b.attach()}return b}var d=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=c(4),f=c(5),g=c(6),h=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.prototype.appendChild=function(a){this.insertBefore(a)},b.prototype.attach=function(){var b=this;a.prototype.attach.call(this),this.children=new e.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(a){try{var c=i(a);b.insertBefore(c,b.children.head)}catch(a){if(a instanceof g.ParchmentError)return;throw a}})},b.prototype.deleteAt=function(a,b){return 0===a&&b===this.length()?this.remove():void this.children.forEachAt(a,b,function(a,b,c){a.deleteAt(b,c)})},b.prototype.descendant=function(a,c){var d=this.children.find(c),e=d[0],f=d[1];return null==a.blotName&&a(e)||null!=a.blotName&&e instanceof a?[e,f]:e instanceof b?e.descendant(a,f):[null,-1]},b.prototype.descendants=function(a,c,d){void 0===c&&(c=0),void 0===d&&(d=Number.MAX_VALUE);var e=[],f=d;return this.children.forEachAt(c,d,function(c,d,g){(null==a.blotName&&a(c)||null!=a.blotName&&c instanceof a)&&e.push(c),c instanceof b&&(e=e.concat(c.descendants(a,d,f))),f-=g}),e},b.prototype.detach=function(){this.children.forEach(function(a){a.detach()}),a.prototype.detach.call(this)},b.prototype.formatAt=function(a,b,c,d){this.children.forEachAt(a,b,function(a,b,e){a.formatAt(b,e,c,d)})},b.prototype.insertAt=function(a,b,c){var d=this.children.find(a),e=d[0],f=d[1];if(e)e.insertAt(f,b,c);else{var h=null==c?g.create("text",b):g.create(b,c);this.appendChild(h)}},b.prototype.insertBefore=function(a,b){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(b){return a instanceof b}))throw new g.ParchmentError("Cannot insert "+a.statics.blotName+" into "+this.statics.blotName);a.insertInto(this,b)},b.prototype.length=function(){return this.children.reduce(function(a,b){return a+b.length()},0)},b.prototype.moveChildren=function(a,b){this.children.forEach(function(c){a.insertBefore(c,b)})},b.prototype.optimize=function(){if(a.prototype.optimize.call(this),0===this.children.length)if(null!=this.statics.defaultChild){var b=g.create(this.statics.defaultChild);this.appendChild(b),b.optimize()}else this.remove()},b.prototype.path=function(a,c){void 0===c&&(c=!1);var d=this.children.find(a,c),e=d[0],f=d[1],g=[[this,a]];return e instanceof b?g.concat(e.path(f,c)):(null!=e&&g.push([e,f]),g)},b.prototype.removeChild=function(a){this.children.remove(a)},b.prototype.replace=function(c){c instanceof b&&c.moveChildren(this),a.prototype.replace.call(this,c)},b.prototype.split=function(a,b){if(void 0===b&&(b=!1),!b){if(0===a)return this;if(a===this.length())return this.next}var c=this.clone();return this.parent.insertBefore(c,this.next),this.children.forEachAt(a,this.length(),function(a,d,e){a=a.split(d,b),c.appendChild(a)}),c},b.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},b.prototype.update=function(a){var b=this,c=[],d=[];a.forEach(function(a){a.target===b.domNode&&"childList"===a.type&&(c.push.apply(c,a.addedNodes),d.push.apply(d,a.removedNodes))}),d.forEach(function(a){if(!(null!=a.parentNode&&"IFRAME"!==a.tagName&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var c=g.find(a);null!=c&&(null!=c.domNode.parentNode&&c.domNode.parentNode!==b.domNode||c.detach())}}),c.filter(function(a){return a.parentNode==b.domNode}).sort(function(a,b){return a===b?0:a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(a){var c=null;null!=a.nextSibling&&(c=g.find(a.nextSibling));var d=i(a);d.next==c&&null!=d.next||(null!=d.parent&&d.parent.removeChild(b),b.insertBefore(d,c))})},b}(f.default);Object.defineProperty(b,"__esModule",{value:!0}),b.default=h},function(a,b){"use strict";var c=function(){function a(){this.head=this.tail=void 0,this.length=0}return a.prototype.append=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.insertBefore(a[0],void 0),a.length>1&&this.append.apply(this,a.slice(1))},a.prototype.contains=function(a){for(var b,c=this.iterator();b=c();)if(b===a)return!0;return!1},a.prototype.insertBefore=function(a,b){a.next=b,null!=b?(a.prev=b.prev,null!=b.prev&&(b.prev.next=a),b.prev=a,b===this.head&&(this.head=a)):null!=this.tail?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=void 0,this.head=this.tail=a),this.length+=1},a.prototype.offset=function(a){for(var b=0,c=this.head;null!=c;){if(c===a)return b;b+=c.length(),c=c.next}return-1},a.prototype.remove=function(a){this.contains(a)&&(null!=a.prev&&(a.prev.next=a.next),null!=a.next&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},a.prototype.iterator=function(a){return void 0===a&&(a=this.head),function(){var b=a;return null!=a&&(a=a.next),b}},a.prototype.find=function(a,b){void 0===b&&(b=!1);for(var c,d=this.iterator();c=d();){var e=c.length();if(a<e||b&&a===e&&(null==c.next||0!==c.next.length()))return[c,a];a-=e}return[null,0]},a.prototype.forEach=function(a){for(var b,c=this.iterator();b=c();)a(b)},a.prototype.forEachAt=function(a,b,c){if(!(b<=0))for(var g,d=this.find(a),e=d[0],f=d[1],h=a-f,i=this.iterator(e);(g=i())&&h<a+b;){var j=g.length();a>h?c(g,a-h,Math.min(b,h+j-a)):c(g,0,Math.min(j,a+b-h)),h+=j}},a.prototype.map=function(a){return this.reduce(function(b,c){return b.push(a(c)),b},[])},a.prototype.reduce=function(a,b){for(var c,d=this.iterator();c=d();)b=a(b,c);return b},a}();Object.defineProperty(b,"__esModule",{value:!0}),b.default=c},function(a,b,c){"use strict";var d=c(6),e=function(){function a(a){this.domNode=a,this.attach()}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(a){if(null==this.tagName)throw new d.ParchmentError("Blot definition missing tagName");var b;return Array.isArray(this.tagName)?("string"==typeof a&&(a=a.toUpperCase(),parseInt(a).toString()===a&&(a=parseInt(a))),b="number"==typeof a?document.createElement(this.tagName[a-1]):this.tagName.indexOf(a)>-1?document.createElement(a):document.createElement(this.tagName[0])):b=document.createElement(this.tagName),this.className&&b.classList.add(this.className),b},a.prototype.attach=function(){this.domNode[d.DATA_KEY]={blot:this}},a.prototype.clone=function(){var a=this.domNode.cloneNode();return d.create(a)},a.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[d.DATA_KEY]},a.prototype.deleteAt=function(a,b){var c=this.isolate(a,b);c.remove()},a.prototype.formatAt=function(a,b,c,e){var f=this.isolate(a,b);if(null!=d.query(c,d.Scope.BLOT)&&e)f.wrap(c,e);else if(null!=d.query(c,d.Scope.ATTRIBUTE)){var g=d.create(this.statics.scope);f.wrap(g),g.format(c,e)}},a.prototype.insertAt=function(a,b,c){var e=null==c?d.create("text",b):d.create(b,c),f=this.split(a);this.parent.insertBefore(e,f)},a.prototype.insertInto=function(a,b){if(null!=this.parent&&this.parent.children.remove(this),a.children.insertBefore(this,b),null!=b)var c=b.domNode;null!=this.next&&this.domNode.nextSibling==c||a.domNode.insertBefore(this.domNode,"undefined"!=typeof c?c:null),this.parent=a},a.prototype.isolate=function(a,b){var c=this.split(a);return c.split(b),c},a.prototype.length=function(){return 1},a.prototype.offset=function(a){return void 0===a&&(a=this.parent),null==this.parent||this==a?0:this.parent.children.offset(this)+this.parent.offset(a)},a.prototype.optimize=function(){null!=this.domNode[d.DATA_KEY]&&delete this.domNode[d.DATA_KEY].mutations},a.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(a){null!=a.parent&&(a.parent.insertBefore(this,a.next),a.remove())},a.prototype.replaceWith=function(a,b){var c="string"==typeof a?d.create(a,b):a;return c.replace(this),c},a.prototype.split=function(a,b){return 0===a?this:this.next},a.prototype.update=function(a){void 0===a&&(a=[])},a.prototype.wrap=function(a,b){var c="string"==typeof a?d.create(a,b):a;return null!=this.parent&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a}();e.blotName="abstract",Object.defineProperty(b,"__esModule",{value:!0}),b.default=e},function(a,b){"use strict";function j(a,b){var c=l(a);if(null==c)throw new d("Unable to create "+a+" blot");var e=c,f=a instanceof Node?a:e.create(b);return new e(f,b)}function k(a,c){return void 0===c&&(c=!1),null==a?null:null!=a[b.DATA_KEY]?a[b.DATA_KEY].blot:c?k(a.parentNode,c):null}function l(a,b){void 0===b&&(b=i.ANY);var c;if("string"==typeof a)c=h[a]||e[a];else if(a instanceof Text)c=h.text;else if("number"==typeof a)a&i.LEVEL&i.BLOCK?c=h.block:a&i.LEVEL&i.INLINE&&(c=h.inline);else if(a instanceof HTMLElement){var d=(a.getAttribute("class")||"").split(/\s+/);for(var j in d)if(c=f[d[j]])break;c=c||g[a.tagName]}return null==c?null:b&i.LEVEL&c.scope&&b&i.TYPE&c.scope?c:null}function m(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(a.length>1)return a.map(function(a){return m(a)});var c=a[0];if("string"!=typeof c.blotName&&"string"!=typeof c.attrName)throw new d("Invalid definition");if("abstract"===c.blotName)throw new d("Cannot register abstract class");if(h[c.blotName||c.attrName]=c,"string"==typeof c.keyName)e[c.keyName]=c;else if(null!=c.className&&(f[c.className]=c),null!=c.tagName){Array.isArray(c.tagName)?c.tagName=c.tagName.map(function(a){return a.toUpperCase()}):c.tagName=c.tagName.toUpperCase();var i=Array.isArray(c.tagName)?c.tagName:[c.tagName];i.forEach(function(a){null!=g[a]&&null!=c.className||(g[a]=c)})}return c}var c=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},d=function(a){function b(b){var c=this;return b="[Parchment] "+b,c=a.call(this,b)||this,c.message=b,c.name=c.constructor.name,c}return c(b,a),b}(Error);b.ParchmentError=d;var e={},f={},g={},h={};b.DATA_KEY="__blot";var i;!function(a){a[a.TYPE=3]="TYPE",a[a.LEVEL=12]="LEVEL",a[a.ATTRIBUTE=13]="ATTRIBUTE",a[a.BLOT=14]="BLOT",a[a.INLINE=7]="INLINE",a[a.BLOCK=11]="BLOCK",a[a.BLOCK_BLOT=10]="BLOCK_BLOT",a[a.INLINE_BLOT=6]="INLINE_BLOT",a[a.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",a[a.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",a[a.ANY=15]="ANY"}(i=b.Scope||(b.Scope={})),b.create=j,b.find=k,b.query=l,b.register=m},function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=c(8),f=c(9),g=c(3),h=c(6),i=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.formats=function(a){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?a.tagName.toLowerCase():void 0)},b.prototype.attach=function(){a.prototype.attach.call(this),this.attributes=new f.default(this.domNode)},b.prototype.format=function(a,b){var c=h.query(a);c instanceof e.default?this.attributes.attribute(c,b):b&&(null==c||a===this.statics.blotName&&this.formats()[a]===b||this.replaceWith(a,b))},b.prototype.formats=function(){var a=this.attributes.values(),b=this.statics.formats(this.domNode);return null!=b&&(a[this.statics.blotName]=b),a},b.prototype.replaceWith=function(b,c){var d=a.prototype.replaceWith.call(this,b,c);return this.attributes.copy(d),d},b.prototype.update=function(b){var c=this;a.prototype.update.call(this,b),b.some(function(a){return a.target===c.domNode&&"attributes"===a.type})&&this.attributes.build()},b.prototype.wrap=function(c,d){var e=a.prototype.wrap.call(this,c,d);return e instanceof b&&e.statics.scope===this.statics.scope&&this.attributes.move(e),e},b}(g.default);Object.defineProperty(b,"__esModule",{value:!0}),b.default=i},function(a,b,c){"use strict";var d=c(6),e=function(){function a(a,b,c){void 0===c&&(c={}),this.attrName=a,this.keyName=b;var e=d.Scope.TYPE&d.Scope.ATTRIBUTE;null!=c.scope?this.scope=c.scope&d.Scope.LEVEL|e:this.scope=d.Scope.ATTRIBUTE,null!=c.whitelist&&(this.whitelist=c.whitelist)}return a.keys=function(a){return[].map.call(a.attributes,function(a){return a.name})},a.prototype.add=function(a,b){return!!this.canAdd(a,b)&&(a.setAttribute(this.keyName,b),!0)},a.prototype.canAdd=function(a,b){var c=d.query(a,d.Scope.BLOT&(this.scope|d.Scope.TYPE));return null!=c&&(null==this.whitelist||this.whitelist.indexOf(b)>-1)},a.prototype.remove=function(a){a.removeAttribute(this.keyName)},a.prototype.value=function(a){var b=a.getAttribute(this.keyName);return this.canAdd(a,b)?b:""},a}();Object.defineProperty(b,"__esModule",{value:!0}),b.default=e},function(a,b,c){"use strict";var d=c(8),e=c(10),f=c(11),g=c(6),h=function(){function a(a){this.attributes={},this.domNode=a,this.build()}return a.prototype.attribute=function(a,b){b?a.add(this.domNode,b)&&(null!=a.value(this.domNode)?this.attributes[a.attrName]=a:delete this.attributes[a.attrName]):(a.remove(this.domNode),delete this.attributes[a.attrName])},a.prototype.build=function(){var a=this;this.attributes={};var b=d.default.keys(this.domNode),c=e.default.keys(this.domNode),h=f.default.keys(this.domNode);b.concat(c).concat(h).forEach(function(b){var c=g.query(b,g.Scope.ATTRIBUTE);c instanceof d.default&&(a.attributes[c.attrName]=c)})},a.prototype.copy=function(a){var b=this;Object.keys(this.attributes).forEach(function(c){var d=b.attributes[c].value(b.domNode);a.format(c,d)})},a.prototype.move=function(a){var b=this;this.copy(a),Object.keys(this.attributes).forEach(function(a){b.attributes[a].remove(b.domNode)}),this.attributes={}},a.prototype.values=function(){var a=this;return Object.keys(this.attributes).reduce(function(b,c){return b[c]=a.attributes[c].value(a.domNode),b},{})},a}();Object.defineProperty(b,"__esModule",{value:!0}),b.default=h},function(a,b,c){"use strict";function f(a,b){var c=a.getAttribute("class")||"";return c.split(/\s+/).filter(function(a){return 0===a.indexOf(b+"-")})}var d=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=c(8),g=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.keys=function(a){return(a.getAttribute("class")||"").split(/\s+/).map(function(a){return a.split("-").slice(0,-1).join("-")})},b.prototype.add=function(a,b){return!!this.canAdd(a,b)&&(this.remove(a),a.classList.add(this.keyName+"-"+b),!0)},b.prototype.remove=function(a){var b=f(a,this.keyName);b.forEach(function(b){a.classList.remove(b)}),0===a.classList.length&&a.removeAttribute("class")},b.prototype.value=function(a){var b=f(a,this.keyName)[0]||"",c=b.slice(this.keyName.length+1);return this.canAdd(a,c)?c:""},b}(e.default);Object.defineProperty(b,"__esModule",{value:!0}),b.default=g},function(a,b,c){"use strict";function f(a){var b=a.split("-"),c=b.slice(1).map(function(a){return a[0].toUpperCase()+a.slice(1)}).join("");return b[0]+c}var d=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=c(8),g=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.keys=function(a){return(a.getAttribute("style")||"").split(";").map(function(a){var b=a.split(":");return b[0].trim()})},b.prototype.add=function(a,b){return!!this.canAdd(a,b)&&(a.style[f(this.keyName)]=b,!0)},b.prototype.remove=function(a){a.style[f(this.keyName)]="",a.getAttribute("style")||a.removeAttribute("style")},b.prototype.value=function(a){var b=a.style[f(this.keyName)];return this.canAdd(a,b)?b:""},b}(e.default);Object.defineProperty(b,"__esModule",{value:!0}),b.default=g},function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=c(5),f=c(6),g=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.value=function(a){return!0},b.prototype.index=function(a,b){return a!==this.domNode?-1:Math.min(b,1)},b.prototype.position=function(a,b){var c=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return a>0&&(c+=1),[this.parent.domNode,c]},b.prototype.value=function(){return a={},a[this.statics.blotName]=this.statics.value(this.domNode)||!0,a;var a},b}(e.default);g.scope=f.Scope.INLINE_BLOT,Object.defineProperty(b,"__esModule",{value:!0}),b.default=g},function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=c(3),f=c(6),g={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,i=function(a){function b(b){var c=a.call(this,b)||this;return c.parent=null,c.observer=new MutationObserver(function(a){c.update(a)}),c.observer.observe(c.domNode,g),c}return d(b,a),b.prototype.detach=function(){a.prototype.detach.call(this),this.observer.disconnect()},b.prototype.deleteAt=function(b,c){this.update(),0===b&&c===this.length()?this.children.forEach(function(a){a.remove()}):a.prototype.deleteAt.call(this,b,c)},b.prototype.formatAt=function(b,c,d,e){this.update(),a.prototype.formatAt.call(this,b,c,d,e)},b.prototype.insertAt=function(b,c,d){this.update(),a.prototype.insertAt.call(this,b,c,d)},b.prototype.optimize=function(b){var c=this;void 0===b&&(b=[]),a.prototype.optimize.call(this);for(var d=[].slice.call(this.observer.takeRecords());d.length>0;)b.push(d.pop());for(var g=function(a,b){void 0===b&&(b=!0),null!=a&&a!==c&&null!=a.domNode.parentNode&&(null==a.domNode[f.DATA_KEY].mutations&&(a.domNode[f.DATA_KEY].mutations=[]),b&&g(a.parent))},i=function(a){null!=a.domNode[f.DATA_KEY]&&null!=a.domNode[f.DATA_KEY].mutations&&(a instanceof e.default&&a.children.forEach(i),a.optimize())},j=b,k=0;j.length>0;k+=1){if(k>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(j.forEach(function(a){var b=f.find(a.target,!0);null!=b&&(b.domNode===a.target&&("childList"===a.type?(g(f.find(a.previousSibling,!1)),[].forEach.call(a.addedNodes,function(a){var b=f.find(a,!1);g(b,!1),b instanceof e.default&&b.children.forEach(function(a){g(a,!1)})})):"attributes"===a.type&&g(b.prev)),g(b))}),this.children.forEach(i),j=[].slice.call(this.observer.takeRecords()),d=j.slice();d.length>0;)b.push(d.pop())}},b.prototype.update=function(b){var c=this;b=b||this.observer.takeRecords(),b.map(function(a){var b=f.find(a.target,!0);if(null!=b)return null==b.domNode[f.DATA_KEY].mutations?(b.domNode[f.DATA_KEY].mutations=[a],b):(b.domNode[f.DATA_KEY].mutations.push(a),null)}).forEach(function(a){null!=a&&a!==c&&null!=a.domNode[f.DATA_KEY]&&a.update(a.domNode[f.DATA_KEY].mutations||[])}),null!=this.domNode[f.DATA_KEY].mutations&&a.prototype.update.call(this,this.domNode[f.DATA_KEY].mutations),this.optimize(b)},b}(e.default);i.blotName="scroll",i.defaultChild="block",i.scope=f.Scope.BLOCK_BLOT,i.tagName="DIV",Object.defineProperty(b,"__esModule",{value:!0}),b.default=i},function(a,b,c){"use strict";function g(a,b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(var c in a)if(a[c]!==b[c])return!1;return!0}var d=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=c(7),f=c(6),h=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.formats=function(c){if(c.tagName!==b.tagName)return a.formats.call(this,c)},b.prototype.format=function(c,d){var f=this;c!==this.statics.blotName||d?a.prototype.format.call(this,c,d):(this.children.forEach(function(a){a instanceof e.default||(a=a.wrap(b.blotName,!0)),f.attributes.copy(a)}),this.unwrap())},b.prototype.formatAt=function(b,c,d,e){if(null!=this.formats()[d]||f.query(d,f.Scope.ATTRIBUTE)){var g=this.isolate(b,c);g.format(d,e)}else a.prototype.formatAt.call(this,b,c,d,e)},b.prototype.optimize=function(){a.prototype.optimize.call(this);var c=this.formats();if(0===Object.keys(c).length)return this.unwrap();var d=this.next;d instanceof b&&d.prev===this&&g(c,d.formats())&&(d.moveChildren(this),d.remove())},b}(e.default);h.blotName="inline",h.scope=f.Scope.INLINE_BLOT,h.tagName="SPAN",Object.defineProperty(b,"__esModule",{value:!0}),b.default=h},function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=c(7),f=c(6),g=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.formats=function(c){var d=f.query(b.blotName).tagName;if(c.tagName!==d)return a.formats.call(this,c)},b.prototype.format=function(c,d){null!=f.query(c,f.Scope.BLOCK)&&(c!==this.statics.blotName||d?a.prototype.format.call(this,c,d):this.replaceWith(b.blotName))},b.prototype.formatAt=function(b,c,d,e){null!=f.query(d,f.Scope.BLOCK)?this.format(d,e):a.prototype.formatAt.call(this,b,c,d,e)},b.prototype.insertAt=function(b,c,d){if(null==d||null!=f.query(c,f.Scope.INLINE))a.prototype.insertAt.call(this,b,c,d);else{var e=this.split(b),g=f.create(c,d);e.parent.insertBefore(g,e)}},b.prototype.update=function(b){navigator.userAgent.match(/Trident/)?this.attach():a.prototype.update.call(this,b)},b}(e.default);g.blotName="block",g.scope=f.Scope.BLOCK_BLOT,g.tagName="P",Object.defineProperty(b,"__esModule",{value:!0}),b.default=g},function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=c(12),f=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.formats=function(a){},b.prototype.format=function(b,c){a.prototype.formatAt.call(this,0,this.length(),b,c)},b.prototype.formatAt=function(b,c,d,e){0===b&&c===this.length()?this.format(d,e):a.prototype.formatAt.call(this,b,c,d,e)},b.prototype.formats=function(){return this.statics.formats(this.domNode)},b}(e.default);Object.defineProperty(b,"__esModule",{value:!0}),b.default=f},function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=c(12),f=c(6),g=function(a){function b(b){var c=a.call(this,b)||this;return c.text=c.statics.value(c.domNode),c}return d(b,a),b.create=function(a){return document.createTextNode(a)},b.value=function(a){return a.data},b.prototype.deleteAt=function(a,b){this.domNode.data=this.text=this.text.slice(0,a)+this.text.slice(a+b)},b.prototype.index=function(a,b){return this.domNode===a?b:-1},b.prototype.insertAt=function(b,c,d){null==d?(this.text=this.text.slice(0,b)+c+this.text.slice(b),this.domNode.data=this.text):a.prototype.insertAt.call(this,b,c,d)},b.prototype.length=function(){return this.text.length},b.prototype.optimize=function(){a.prototype.optimize.call(this),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof b&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},b.prototype.position=function(a,b){return void 0===b&&(b=!1),[this.domNode,a]},b.prototype.split=function(a,b){if(void 0===b&&(b=!1),!b){if(0===a)return this;if(a===this.length())return this.next}var c=f.create(this.domNode.splitText(a));return this.parent.insertBefore(c,this.next),this.text=this.statics.value(this.domNode),c},b.prototype.update=function(a){var b=this;a.some(function(a){return"characterData"===a.type&&a.target===b.domNode})&&(this.text=this.statics.value(this.domNode))},b.prototype.value=function(){return this.text},b}(e.default);g.blotName="text",g.scope=f.Scope.INLINE_BLOT,Object.defineProperty(b,"__esModule",{value:!0}),b.default=g},function(a,b,c){"use strict";function y(a){return a&&a.__esModule?a:{default:a}}function z(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function A(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function D(a,b){if(b=(0,t.default)(!0,{container:a,modules:{clipboard:!0,keyboard:!0,history:!0}},b),b.theme&&b.theme!==C.DEFAULTS.theme){if(b.theme=C.import("themes/"+b.theme),null==b.theme)throw new Error("Invalid theme "+b.theme+". Did you register it?")}else b.theme=x.default;var c=(0,t.default)(!0,{},b.theme.DEFAULTS);[c,b].forEach(function(a){a.modules=a.modules||{},Object.keys(a.modules).forEach(function(b){a.modules[b]===!0&&(a.modules[b]={})})});var d=Object.keys(c.modules).concat(Object.keys(b.modules)),e=d.reduce(function(a,b){var c=C.import("modules/"+b);return null==c?B.error("Cannot load "+b+" module. Are you sure you registered it?"):a[b]=c.DEFAULTS||{},a},{});return null!=b.modules&&b.modules.toolbar&&b.modules.toolbar.constructor!==Object&&(b.modules.toolbar={container:b.modules.toolbar}),b=(0,t.default)(!0,{},C.DEFAULTS,{modules:e},c,b),["bounds","container","scrollingContainer"].forEach(function(a){"string"==typeof b[a]&&(b[a]=document.querySelector(b[a]))}),b.modules=Object.keys(b.modules).reduce(function(a,c){return b.modules[c]&&(a[c]=b.modules[c]),a},{}),b}function E(a,b,c,d){if(this.options.strict&&!this.isEnabled()&&b===l.default.sources.USER)return new h.default;var e=null==c?null:this.getSelection(),f=this.editor.delta,g=a();if(null!=e&&(c===!0&&(c=e.index),null==d?e=G(e,g,b):0!==d&&(e=G(e,c,d,b)),this.setSelection(e,l.default.sources.SILENT)),g.length()>0){var i,j=[l.default.events.TEXT_CHANGE,g,f,b];if((i=this.emitter).emit.apply(i,[l.default.events.EDITOR_CHANGE].concat(j)),b!==l.default.sources.SILENT){var k;(k=this.emitter).emit.apply(k,j)}}return g}function F(a,b,c,e,f){var g={};return"number"==typeof a.index&&"number"==typeof a.length?"number"!=typeof b?(f=e,e=c,c=b,b=a.length,a=a.index):(b=a.length,a=a.index):"number"!=typeof b&&(f=e,e=c,c=b,b=0),"object"===("undefined"==typeof c?"undefined":d(c))?(g=c,f=e):"string"==typeof c&&(null!=e?g[c]=e:f=c),f=f||l.default.sources.API,[a,b,g,f]}function G(a,b,c,d){if(null==a)return null;var f=void 0,g=void 0;if(b instanceof h.default){var i=[a.index,a.index+a.length].map(function(a){return b.transformPosition(a,d===l.default.sources.USER)}),j=e(i,2);f=j[0],g=j[1]}else{var k=[a.index,a.index+a.length].map(function(a){return a<b||a===b&&d!==l.default.sources.USER?a:c>=0?a+c:Math.max(b,a+c)}),m=e(k,2);f=m[0],g=m[1]}return new q.Range(f,g-f)}Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.overload=b.expandConfig=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var h,g=a[Symbol.iterator]();!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&g.return&&g.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c(19);var g=c(20),h=y(g),i=c(27),j=y(i),k=c(35),l=y(k),m=c(39),n=y(m),o=c(2),p=y(o),q=c(40),r=y(q),s=c(25),t=y(s),u=c(37),v=y(u),w=c(41),x=y(w),B=(0,v.default)("quill"),C=function(){function a(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(A(this,a),this.options=D(b,d),this.container=this.options.container,this.scrollingContainer=this.options.scrollingContainer||document.body,null==this.container)return B.error("Invalid Quill container",b);this.options.debug&&a.debug(this.options.debug);var e=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new l.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new j.default(this.scroll),this.selection=new r.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(a){a===l.default.events.TEXT_CHANGE&&c.root.classList.toggle("ql-blank",c.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(a,b){var d=c.selection.lastRange,e=d&&0===d.length?d.index:void 0;E.call(c,function(){return c.editor.update(null,b,e)},a)});var f=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+e+"<p><br></p></div>");this.setContents(f),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(a,null,[{key:"debug",value:function(b){b===!0&&(b="log"),v.default.level(b)}},{key:"find",value:function(b){return b.__quill||p.default.find(b)}},{key:"import",value:function(b){return null==this.imports[b]&&B.error("Cannot import "+b+". Are you sure it was registered?"),this.imports[b]}},{key:"register",value:function(b,c){var d=this,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];
    if("string"!=typeof b){var f=b.attrName||b.blotName;"string"==typeof f?this.register("formats/"+f,b,c):Object.keys(b).forEach(function(a){d.register(a,b[a],c)})}else null==this.imports[b]||e||B.warn("Overwriting "+b+" with",c),this.imports[b]=c,(b.startsWith("blots/")||b.startsWith("formats/"))&&"abstract"!==c.blotName&&p.default.register(c)}}]),f(a,[{key:"addContainer",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof b){var d=b;b=document.createElement("div"),b.classList.add(d)}return this.container.insertBefore(b,c),b}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(b,c,d){var f=this,g=F(b,c,d),h=e(g,4);return b=h[0],c=h[1],d=h[3],E.call(this,function(){return f.editor.deleteText(b,c)},d,b,-1*c)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(b),this.container.classList.toggle("ql-disabled",!b),b||this.blur()}},{key:"focus",value:function(){var b=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=b,this.selection.scrollIntoView()}},{key:"format",value:function(b,c){var d=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return E.call(this,function(){var a=d.getSelection(!0),e=new h.default;if(null==a)return e;if(p.default.query(b,p.default.Scope.BLOCK))e=d.editor.formatLine(a.index,a.length,z({},b,c));else{if(0===a.length)return d.selection.format(b,c),e;e=d.editor.formatText(a.index,a.length,z({},b,c))}return d.setSelection(a,l.default.sources.SILENT),e},e)}},{key:"formatLine",value:function(b,c,d,f,g){var h=this,i=void 0,j=F(b,c,d,f,g),k=e(j,4);return b=k[0],c=k[1],i=k[2],g=k[3],E.call(this,function(){return h.editor.formatLine(b,c,i)},g,b,0)}},{key:"formatText",value:function(b,c,d,f,g){var h=this,i=void 0,j=F(b,c,d,f,g),k=e(j,4);return b=k[0],c=k[1],i=k[2],g=k[3],E.call(this,function(){return h.editor.formatText(b,c,i)},g,b,0)}},{key:"getBounds",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof b?this.selection.getBounds(b,c):this.selection.getBounds(b.index,b.length)}},{key:"getContents",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-b,d=F(b,c),f=e(d,2);return b=f[0],c=f[1],this.editor.getContents(b,c)}},{key:"getFormat",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(),c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof b?this.editor.getFormat(b,c):this.editor.getFormat(b.index,b.length)}},{key:"getIndex",value:function(b){return b.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(b){return this.scroll.leaf(b)}},{key:"getLine",value:function(b){return this.scroll.line(b)}},{key:"getLines",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof b?this.scroll.lines(b.index,b.length):this.scroll.lines(b,c)}},{key:"getModule",value:function(b){return this.theme.modules[b]}},{key:"getSelection",value:function(){var b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return b&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-b,d=F(b,c),f=e(d,2);return b=f[0],c=f[1],this.editor.getText(b,c)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(c,d,e){var f=this,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.sources.API;return E.call(this,function(){return f.editor.insertEmbed(c,d,e)},g,c)}},{key:"insertText",value:function(b,c,d,f,g){var h=this,i=void 0,j=F(b,0,d,f,g),k=e(j,4);return b=k[0],i=k[2],g=k[3],E.call(this,function(){return h.editor.insertText(b,c,i)},g,b,c.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(b,c,d){this.clipboard.dangerouslyPasteHTML(b,c,d)}},{key:"removeFormat",value:function(b,c,d){var f=this,g=F(b,c,d),h=e(g,4);return b=h[0],c=h[1],d=h[3],E.call(this,function(){return f.editor.removeFormat(b,c)},d,b)}},{key:"setContents",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return E.call(this,function(){b=new h.default(b);var a=c.getLength(),d=c.editor.deleteText(0,a),e=c.editor.applyDelta(b),f=e.ops[e.ops.length-1];null!=f&&"string"==typeof f.insert&&"\n"===f.insert[f.insert.length-1]&&(c.editor.deleteText(c.getLength()-1,1),e.delete(1));var g=d.compose(e);return g},d)}},{key:"setSelection",value:function(c,d,f){if(null==c)this.selection.setRange(null,d||a.sources.API);else{var g=F(c,d,f),h=e(g,4);c=h[0],d=h[1],f=h[3],this.selection.setRange(new q.Range(c,d),f)}f!==l.default.sources.SILENT&&this.selection.scrollIntoView()}},{key:"setText",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,d=(new h.default).insert(b);return this.setContents(d,c)}},{key:"update",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,c=this.scroll.update(b);return this.selection.update(b),c}},{key:"updateContents",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return E.call(this,function(){return b=new h.default(b),c.editor.applyDelta(b,d)},d,!0)}}]),a}();C.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},C.events=l.default.events,C.sources=l.default.sources,C.version="1.2.0",C.imports={delta:h.default,parchment:p.default,"core/module":n.default,"core/theme":x.default},b.expandConfig=D,b.overload=F,b.default=C},function(a,b){"use strict";var c=document.createElement("div");c.classList.toggle("test-class",!1),c.classList.contains("test-class")&&!function(){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(b,c){return arguments.length>1&&!this.contains(b)==!c?c:a.call(this,b)}}(),String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return b=b||0,this.substr(b,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,b){var c=this.toString();("number"!=typeof b||!isFinite(b)||Math.floor(b)!==b||b>c.length)&&(b=c.length),b-=a.length;var d=c.indexOf(a,b);return d!==-1&&d===b}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function a(b){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof b)throw new TypeError("predicate must be a function");for(var a,c=Object(this),d=c.length>>>0,e=arguments[1],f=0;f<d;f++)if(a=c[f],b.call(e,a,f,c))return a}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1)})},function(a,b,c){var d=c(21),e=c(22),f=c(25),g=c(26),h=String.fromCharCode(0),i=function(a){Array.isArray(a)?this.ops=a:null!=a&&Array.isArray(a.ops)?this.ops=a.ops:this.ops=[]};i.prototype.insert=function(a,b){var c={};return 0===a.length?this:(c.insert=a,null!=b&&"object"==typeof b&&Object.keys(b).length>0&&(c.attributes=b),this.push(c))},i.prototype.delete=function(a){return a<=0?this:this.push({delete:a})},i.prototype.retain=function(a,b){if(a<=0)return this;var c={retain:a};return null!=b&&"object"==typeof b&&Object.keys(b).length>0&&(c.attributes=b),this.push(c)},i.prototype.push=function(a){var b=this.ops.length,c=this.ops[b-1];if(a=f(!0,{},a),"object"==typeof c){if("number"==typeof a.delete&&"number"==typeof c.delete)return this.ops[b-1]={delete:c.delete+a.delete},this;if("number"==typeof c.delete&&null!=a.insert&&(b-=1,c=this.ops[b-1],"object"!=typeof c))return this.ops.unshift(a),this;if(e(a.attributes,c.attributes)){if("string"==typeof a.insert&&"string"==typeof c.insert)return this.ops[b-1]={insert:c.insert+a.insert},"object"==typeof a.attributes&&(this.ops[b-1].attributes=a.attributes),this;if("number"==typeof a.retain&&"number"==typeof c.retain)return this.ops[b-1]={retain:c.retain+a.retain},"object"==typeof a.attributes&&(this.ops[b-1].attributes=a.attributes),this}}return b===this.ops.length?this.ops.push(a):this.ops.splice(b,0,a),this},i.prototype.filter=function(a){return this.ops.filter(a)},i.prototype.forEach=function(a){this.ops.forEach(a)},i.prototype.map=function(a){return this.ops.map(a)},i.prototype.partition=function(a){var b=[],c=[];return this.forEach(function(d){var e=a(d)?b:c;e.push(d)}),[b,c]},i.prototype.reduce=function(a,b){return this.ops.reduce(a,b)},i.prototype.chop=function(){var a=this.ops[this.ops.length-1];return a&&a.retain&&!a.attributes&&this.ops.pop(),this},i.prototype.length=function(){return this.reduce(function(a,b){return a+g.length(b)},0)},i.prototype.slice=function(a,b){a=a||0,"number"!=typeof b&&(b=1/0);for(var c=[],d=g.iterator(this.ops),e=0;e<b&&d.hasNext();){var f;e<a?f=d.next(a-e):(f=d.next(b-e),c.push(f)),e+=g.length(f)}return new i(c)},i.prototype.compose=function(a){for(var b=g.iterator(this.ops),c=g.iterator(a.ops),d=new i;b.hasNext()||c.hasNext();)if("insert"===c.peekType())d.push(c.next());else if("delete"===b.peekType())d.push(b.next());else{var e=Math.min(b.peekLength(),c.peekLength()),f=b.next(e),h=c.next(e);if("number"==typeof h.retain){var j={};"number"==typeof f.retain?j.retain=e:j.insert=f.insert;var k=g.attributes.compose(f.attributes,h.attributes,"number"==typeof f.retain);k&&(j.attributes=k),d.push(j)}else"number"==typeof h.delete&&"number"==typeof f.retain&&d.push(h)}return d.chop()},i.prototype.concat=function(a){var b=new i(this.ops.slice());return a.ops.length>0&&(b.push(a.ops[0]),b.ops=b.ops.concat(a.ops.slice(1))),b},i.prototype.diff=function(a,b){if(this.ops===a.ops)return new i;var c=[this,a].map(function(b){return b.map(function(b){if(null!=b.insert)return"string"==typeof b.insert?b.insert:h;var c=ops===a.ops?"on":"with";throw new Error("diff() called "+c+" non-document")}).join("")}),f=new i,j=d(c[0],c[1],b),k=g.iterator(this.ops),l=g.iterator(a.ops);return j.forEach(function(a){for(var b=a[1].length;b>0;){var c=0;switch(a[0]){case d.INSERT:c=Math.min(l.peekLength(),b),f.push(l.next(c));break;case d.DELETE:c=Math.min(b,k.peekLength()),k.next(c),f.delete(c);break;case d.EQUAL:c=Math.min(k.peekLength(),l.peekLength(),b);var h=k.next(c),i=l.next(c);e(h.insert,i.insert)?f.retain(c,g.attributes.diff(h.attributes,i.attributes)):f.push(i).delete(c)}b-=c}}),f.chop()},i.prototype.eachLine=function(a,b){b=b||"\n";for(var c=g.iterator(this.ops),d=new i;c.hasNext();){if("insert"!==c.peekType())return;var e=c.peek(),f=g.length(e)-c.peekLength(),h="string"==typeof e.insert?e.insert.indexOf(b,f)-f:-1;h<0?d.push(c.next()):h>0?d.push(c.next(h)):(a(d,c.next(1).attributes||{}),d=new i)}d.length()>0&&a(d,{})},i.prototype.transform=function(a,b){if(b=!!b,"number"==typeof a)return this.transformPosition(a,b);for(var c=g.iterator(this.ops),d=g.iterator(a.ops),e=new i;c.hasNext()||d.hasNext();)if("insert"!==c.peekType()||!b&&"insert"===d.peekType())if("insert"===d.peekType())e.push(d.next());else{var f=Math.min(c.peekLength(),d.peekLength()),h=c.next(f),j=d.next(f);if(h.delete)continue;j.delete?e.push(j):e.retain(f,g.attributes.transform(h.attributes,j.attributes,b))}else e.retain(g.length(c.next()));return e.chop()},i.prototype.transformPosition=function(a,b){b=!!b;for(var c=g.iterator(this.ops),d=0;c.hasNext()&&d<=a;){var e=c.peekLength(),f=c.peekType();c.next(),"delete"!==f?("insert"===f&&(d<a||!b)&&(a+=e),d+=e):a-=Math.min(e,a-d)}return a},a.exports=i},function(a,b){function f(a,b,c){if(a==b)return a?[[e,a]]:[];(c<0||a.length<c)&&(c=null);var d=j(a,b),f=a.substring(0,d);a=a.substring(d),b=b.substring(d),d=k(a,b);var h=a.substring(a.length-d);a=a.substring(0,a.length-d),b=b.substring(0,b.length-d);var i=g(a,b);return f&&i.unshift([e,f]),h&&i.push([e,h]),m(i),null!=c&&(i=p(i,c)),i}function g(a,b){var g;if(!a)return[[d,b]];if(!b)return[[c,a]];var i=a.length>b.length?a:b,j=a.length>b.length?b:a,k=i.indexOf(j);if(k!=-1)return g=[[d,i.substring(0,k)],[e,j],[d,i.substring(k+j.length)]],a.length>b.length&&(g[0][0]=g[2][0]=c),g;if(1==j.length)return[[c,a],[d,b]];var m=l(a,b);if(m){var n=m[0],o=m[1],p=m[2],q=m[3],r=m[4],s=f(n,p),t=f(o,q);return s.concat([[e,r]],t)}return h(a,b)}function h(a,b){for(var e=a.length,f=b.length,g=Math.ceil((e+f)/2),h=g,j=2*g,k=new Array(j),l=new Array(j),m=0;m<j;m++)k[m]=-1,l[m]=-1;k[h+1]=0,l[h+1]=0;for(var n=e-f,o=n%2!=0,p=0,q=0,r=0,s=0,t=0;t<g;t++){for(var u=-t+p;u<=t-q;u+=2){var w,v=h+u;w=u==-t||u!=t&&k[v-1]<k[v+1]?k[v+1]:k[v-1]+1;for(var x=w-u;w<e&&x<f&&a.charAt(w)==b.charAt(x);)w++,x++;if(k[v]=w,w>e)q+=2;else if(x>f)p+=2;else if(o){var y=h+n-u;if(y>=0&&y<j&&l[y]!=-1){var z=e-l[y];if(w>=z)return i(a,b,w,x)}}}for(var A=-t+r;A<=t-s;A+=2){var z,y=h+A;z=A==-t||A!=t&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1;for(var B=z-A;z<e&&B<f&&a.charAt(e-z-1)==b.charAt(f-B-1);)z++,B++;if(l[y]=z,z>e)s+=2;else if(B>f)r+=2;else if(!o){var v=h+n-A;if(v>=0&&v<j&&k[v]!=-1){var w=k[v],x=h+w-v;if(z=e-z,w>=z)return i(a,b,w,x)}}}}return[[c,a],[d,b]]}function i(a,b,c,d){var e=a.substring(0,c),g=b.substring(0,d),h=a.substring(c),i=b.substring(d),j=f(e,g),k=f(h,i);return j.concat(k)}function j(a,b){if(!a||!b||a.charAt(0)!=b.charAt(0))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c<e;)a.substring(f,e)==b.substring(f,e)?(c=e,f=c):d=e,e=Math.floor((d-c)/2+c);return e}function k(a,b){if(!a||!b||a.charAt(a.length-1)!=b.charAt(b.length-1))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c<e;)a.substring(a.length-e,a.length-f)==b.substring(b.length-e,b.length-f)?(c=e,f=c):d=e,e=Math.floor((d-c)/2+c);return e}function l(a,b){function e(a,b,c){for(var g,h,i,l,d=a.substring(c,c+Math.floor(a.length/4)),e=-1,f="";(e=b.indexOf(d,e+1))!=-1;){var m=j(a.substring(c),b.substring(e)),n=k(a.substring(0,c),b.substring(0,e));f.length<n+m&&(f=b.substring(e-n,e)+b.substring(e,e+m),g=a.substring(0,c-n),h=a.substring(c+m),i=b.substring(0,e-n),l=b.substring(e+m))}return 2*f.length>=a.length?[g,h,i,l,f]:null}var c=a.length>b.length?a:b,d=a.length>b.length?b:a;if(c.length<4||2*d.length<c.length)return null;var h,f=e(c,d,Math.ceil(c.length/4)),g=e(c,d,Math.ceil(c.length/2));if(!f&&!g)return null;h=g?f&&f[4].length>g[4].length?f:g:f;var i,l,m,n;a.length>b.length?(i=h[0],l=h[1],m=h[2],n=h[3]):(m=h[0],n=h[1],i=h[2],l=h[3]);var o=h[4];return[i,l,m,n,o]}function m(a){a.push([e,""]);for(var l,b=0,f=0,g=0,h="",i="";b<a.length;)switch(a[b][0]){case d:g++,i+=a[b][1],b++;break;case c:f++,h+=a[b][1],b++;break;case e:f+g>1?(0!==f&&0!==g&&(l=j(i,h),0!==l&&(b-f-g>0&&a[b-f-g-1][0]==e?a[b-f-g-1][1]+=i.substring(0,l):(a.splice(0,0,[e,i.substring(0,l)]),b++),i=i.substring(l),h=h.substring(l)),l=k(i,h),0!==l&&(a[b][1]=i.substring(i.length-l)+a[b][1],i=i.substring(0,i.length-l),h=h.substring(0,h.length-l))),0===f?a.splice(b-g,f+g,[d,i]):0===g?a.splice(b-f,f+g,[c,h]):a.splice(b-f-g,f+g,[c,h],[d,i]),b=b-f-g+(f?1:0)+(g?1:0)+1):0!==b&&a[b-1][0]==e?(a[b-1][1]+=a[b][1],a.splice(b,1)):b++,g=0,f=0,h="",i=""}""===a[a.length-1][1]&&a.pop();var n=!1;for(b=1;b<a.length-1;)a[b-1][0]==e&&a[b+1][0]==e&&(a[b][1].substring(a[b][1].length-a[b-1][1].length)==a[b-1][1]?(a[b][1]=a[b-1][1]+a[b][1].substring(0,a[b][1].length-a[b-1][1].length),a[b+1][1]=a[b-1][1]+a[b+1][1],a.splice(b-1,1),n=!0):a[b][1].substring(0,a[b+1][1].length)==a[b+1][1]&&(a[b-1][1]+=a[b+1][1],a[b][1]=a[b][1].substring(a[b+1][1].length)+a[b+1][1],a.splice(b+1,1),n=!0)),b++;n&&m(a)}function o(a,b){if(0===b)return[e,a];for(var d=0,f=0;f<a.length;f++){var g=a[f];if(g[0]===c||g[0]===e){var h=d+g[1].length;if(b===h)return[f+1,a];if(b<h){a=a.slice();var i=b-d,j=[g[0],g[1].slice(0,i)],k=[g[0],g[1].slice(i)];return a.splice(f,1,j,k),[f+1,a]}d=h}}throw new Error("cursor_pos is out of bounds!")}function p(a,b){var c=o(a,b),d=c[1],f=c[0],g=d[f],h=d[f+1];if(null==g)return a;if(g[0]!==e)return a;if(null!=h&&g[1]+h[1]===h[1]+g[1])return d.splice(f,2,h,g),q(d,f,2);if(null!=h&&0===h[1].indexOf(g[1])){d.splice(f,2,[h[0],g[1]],[0,g[1]]);var i=h[1].slice(g[1].length);return i.length>0&&d.splice(f+2,0,[h[0],i]),q(d,f,3)}return a}function q(a,b,c){for(var d=b+c-1;d>=0&&d>=b-1;d--)if(d+1<a.length){var e=a[d],f=a[d+1];e[0]===f[1]&&a.splice(d,2,[e[0],e[1]+f[1]])}return a}var c=-1,d=1,e=0,n=f;n.INSERT=d,n.DELETE=c,n.EQUAL=e,a.exports=n},function(a,b,c){function h(a){return null===a||void 0===a}function i(a){return!(!a||"object"!=typeof a||"number"!=typeof a.length)&&("function"==typeof a.copy&&"function"==typeof a.slice&&!(a.length>0&&"number"!=typeof a[0]))}function j(a,b,c){var j,k;if(h(a)||h(b))return!1;if(a.prototype!==b.prototype)return!1;if(f(a))return!!f(b)&&(a=d.call(a),b=d.call(b),g(a,b,c));if(i(a)){if(!i(b))return!1;if(a.length!==b.length)return!1;for(j=0;j<a.length;j++)if(a[j]!==b[j])return!1;return!0}try{var l=e(a),m=e(b)}catch(a){return!1}if(l.length!=m.length)return!1;for(l.sort(),m.sort(),j=l.length-1;j>=0;j--)if(l[j]!=m[j])return!1;for(j=l.length-1;j>=0;j--)if(k=l[j],!g(a[k],b[k],c))return!1;return typeof a==typeof b}var d=Array.prototype.slice,e=c(23),f=c(24),g=a.exports=function(a,b,c){return c||(c={}),a===b||(a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():!a||!b||"object"!=typeof a&&"object"!=typeof b?c.strict?a===b:a==b:j(a,b,c))}},function(a,b){function c(a){var b=[];for(var c in a)b.push(c);return b}b=a.exports="function"==typeof Object.keys?Object.keys:c,b.shim=c},function(a,b){function d(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function e(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}var c="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();b=a.exports=c?d:e,b.supported=d,b.unsupported=e},function(a,b){"use strict";var c=Object.prototype.hasOwnProperty,d=Object.prototype.toString,e=function(b){return"function"==typeof Array.isArray?Array.isArray(b):"[object Array]"===d.call(b)},f=function(b){if(!b||"[object Object]"!==d.call(b))return!1;var e=c.call(b,"constructor"),f=b.constructor&&b.constructor.prototype&&c.call(b.constructor.prototype,"isPrototypeOf");if(b.constructor&&!e&&!f)return!1;var g;for(g in b);return"undefined"==typeof g||c.call(b,g)};a.exports=function a(){var b,c,d,g,h,i,j=arguments[0],k=1,l=arguments.length,m=!1;for("boolean"==typeof j?(m=j,j=arguments[1]||{},k=2):("object"!=typeof j&&"function"!=typeof j||null==j)&&(j={});k<l;++k)if(b=arguments[k],null!=b)for(c in b)d=j[c],g=b[c],j!==g&&(m&&g&&(f(g)||(h=e(g)))?(h?(h=!1,i=d&&e(d)?d:[]):i=d&&f(d)?d:{},j[c]=a(m,i,g)):"undefined"!=typeof g&&(j[c]=g));return j}},function(a,b,c){function g(a){this.ops=a,this.index=0,this.offset=0}var d=c(22),e=c(25),f={attributes:{compose:function(a,b,c){"object"!=typeof a&&(a={}),"object"!=typeof b&&(b={});var d=e(!0,{},b);c||(d=Object.keys(d).reduce(function(a,b){return null!=d[b]&&(a[b]=d[b]),a},{}));for(var f in a)void 0!==a[f]&&void 0===b[f]&&(d[f]=a[f]);return Object.keys(d).length>0?d:void 0},diff:function(a,b){"object"!=typeof a&&(a={}),"object"!=typeof b&&(b={});var c=Object.keys(a).concat(Object.keys(b)).reduce(function(c,e){return d(a[e],b[e])||(c[e]=void 0===b[e]?null:b[e]),c},{});return Object.keys(c).length>0?c:void 0},transform:function(a,b,c){if("object"!=typeof a)return b;if("object"==typeof b){if(!c)return b;var d=Object.keys(b).reduce(function(c,d){return void 0===a[d]&&(c[d]=b[d]),c},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(a){return new g(a)},length:function(a){return"number"==typeof a.delete?a.delete:"number"==typeof a.retain?a.retain:"string"==typeof a.insert?a.insert.length:1}};g.prototype.hasNext=function(){return this.peekLength()<1/0},g.prototype.next=function(a){a||(a=1/0);var b=this.ops[this.index];if(b){var c=this.offset,d=f.length(b);if(a>=d-c?(a=d-c,this.index+=1,this.offset=0):this.offset+=a,"number"==typeof b.delete)return{delete:a};var e={};return b.attributes&&(e.attributes=b.attributes),"number"==typeof b.retain?e.retain=a:"string"==typeof b.insert?e.insert=b.insert.substr(c,a):e.insert=b.insert,e}return{retain:1/0}},g.prototype.peek=function(){return this.ops[this.index]},g.prototype.peekLength=function(){return this.ops[this.index]?f.length(this.ops[this.index])-this.offset:1/0},g.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.exports=f},function(a,b,c){"use strict";function y(a){return a&&a.__esModule?a:{default:a}}function z(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function A(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function C(a,b){return Object.keys(b).reduce(function(c,d){return null==a[d]?c:(b[d]===a[d]?c[d]=b[d]:Array.isArray(b[d])?b[d].indexOf(a[d])<0&&(c[d]=b[d].concat([a[d]])):c[d]=[b[d],a[d]],c)},{})}function D(a){return a.reduce(function(a,b){if(1===b.insert){var c=(0,t.default)(b.attributes);return delete c.image,a.insert({image:b.attributes.image},c)}if(null==b.attributes||b.attributes.list!==!0&&b.attributes.bullet!==!0||(b=(0,t.default)(b),b.attributes.list?b.attributes.list="ordered":(b.attributes.list="bullet",delete b.attributes.bullet)),"string"==typeof b.insert){var d=b.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return a.insert(d,b.attributes)}return a.push(b)},new h.default)}Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var h,g=a[Symbol.iterator]();!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&g.return&&g.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(20),h=y(g),i=c(26),j=y(i),k=c(2),l=y(k),m=c(28),n=y(m),o=c(34),p=y(o),q=c(29),r=y(q),s=c(38),t=y(s),u=c(22),v=y(u),w=c(25),x=y(w),B=function(){function a(b){A(this,a),this.scroll=b,this.delta=this.getDelta()}return f(a,[{key:"applyDelta",value:function(b){var c=this,f=!1;this.scroll.update();var g=this.scroll.length();return this.scroll.batch=!0,b=D(b),b.reduce(function(a,b){var h=b.retain||b.delete||b.insert.length||1,i=b.attributes||{};if(null!=b.insert){if("string"==typeof b.insert){var k=b.insert;k.endsWith("\n")&&f&&(f=!1,k=k.slice(0,-1)),a>=g&&!k.endsWith("\n")&&(f=!0),c.scroll.insertAt(a,k);var m=c.scroll.line(a),n=e(m,2),o=n[0],p=n[1],s=(0,x.default)({},(0,q.bubbleFormats)(o));if(o instanceof r.default){var t=o.descendant(l.default.Leaf,p),u=e(t,1),v=u[0];s=(0,x.default)(s,(0,q.bubbleFormats)(v))}i=j.default.attributes.diff(s,i)||{}}else if("object"===d(b.insert)){var w=Object.keys(b.insert)[0];if(null==w)return a;c.scroll.insertAt(a,w,b.insert[w])}g+=h}return Object.keys(i).forEach(function(b){c.scroll.formatAt(a,h,b,i[b])}),a+h},0),b.reduce(function(a,b){return"number"==typeof b.delete?(c.scroll.deleteAt(a,b.delete),a):a+(b.retain||b.insert.length||1)},0),this.scroll.batch=!1,this.scroll.optimize(),this.update(b)}},{key:"deleteText",value:function(b,c){return this.scroll.deleteAt(b,c),this.update((new h.default).retain(b).delete(c))}},{key:"formatLine",value:function(b,c){var d=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(e).forEach(function(a){if(null==d.scroll.whitelist||d.scroll.whitelist[a]){var f=d.scroll.lines(b,Math.max(c,1)),g=c;f.forEach(function(c){var f=c.length();if(c instanceof n.default){var h=b-c.offset(d.scroll),i=c.newlineIndex(h+g)-h+1;c.formatAt(h,i,a,e[a])}else c.format(a,e[a]);g-=f})}}),this.scroll.optimize(),this.update((new h.default).retain(b).retain(c,(0,t.default)(e)))}},{key:"formatText",value:function(b,c){var d=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(e).forEach(function(a){d.scroll.formatAt(b,c,a,e[a])}),this.update((new h.default).retain(b).retain(c,(0,t.default)(e)))}},{key:"getContents",value:function(b,c){return this.delta.slice(b,b+c)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(a,b){return a.concat(b.delta())},new h.default)}},{key:"getFormat",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=[],f=[];0===c?this.scroll.path(b).forEach(function(a){var b=e(a,1),c=b[0];c instanceof r.default?d.push(c):c instanceof l.default.Leaf&&f.push(c)}):(d=this.scroll.lines(b,c),f=this.scroll.descendants(l.default.Leaf,b,c));var g=[d,f].map(function(a){if(0===a.length)return{};for(var b=(0,q.bubbleFormats)(a.shift());Object.keys(b).length>0;){var c=a.shift();if(null==c)return b;b=C((0,q.bubbleFormats)(c),b)}return b});return x.default.apply(x.default,g)}},{key:"getText",value:function(b,c){return this.getContents(b,c).filter(function(a){return"string"==typeof a.insert}).map(function(a){return a.insert}).join("")}},{key:"insertEmbed",value:function(b,c,d){return this.scroll.insertAt(b,c,d),this.update((new h.default).retain(b).insert(z({},c,d)))}},{key:"insertText",value:function(b,c){var d=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c=c.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(b,c),Object.keys(e).forEach(function(a){d.scroll.formatAt(b,c.length,a,e[a])}),this.update((new h.default).retain(b).insert(c,(0,t.default)(e)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var b=this.scroll.children.head;return b.length()<=1&&0==Object.keys(b.formats()).length}},{key:"removeFormat",value:function(b,c){var d=this.getText(b,c),f=this.scroll.line(b+c),g=e(f,2),i=g[0],j=g[1],k=0,l=new h.default;null!=i&&(k=i instanceof n.default?i.newlineIndex(j)-j+1:i.length()-j,l=i.delta().slice(j,j+k-1).insert("\n"));var m=this.getContents(b,c+k),o=m.diff((new h.default).insert(d).concat(l)),p=(new h.default).retain(b).concat(o);return this.applyDelta(p)}},{key:"update",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=this.delta;return 1===d.length&&"characterData"===d[0].type&&l.default.find(d[0].target)?!function(){var a=l.default.find(d[0].target),g=(0,q.bubbleFormats)(a),i=a.offset(c.scroll),j=d[0].oldValue.replace(p.default.CONTENTS,""),k=(new h.default).insert(j),m=(new h.default).insert(a.value()),n=(new h.default).retain(i).concat(k.diff(m,e));b=n.reduce(function(a,b){return b.insert?a.insert(b.insert,g):a.push(b)},new h.default),c.delta=f.compose(b)}():(this.delta=this.getDelta(),b&&(0,v.default)(f.compose(b),this.delta)||(b=f.diff(this.delta,e))),b}}]),a}();b.default=B},function(a,b,c){"use strict";function q(a){return a&&a.__esModule?a:{default:a}}function r(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function s(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function t(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.Code=void 0;var d=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var h,g=a[Symbol.iterator]();!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&g.return&&g.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},g=c(20),h=q(g),i=c(2),j=q(i),k=c(29),l=q(k),m=c(32),n=q(m),o=c(33),p=q(o),u=function(a){function b(){return r(this,b),s(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return t(b,a),b}(n.default);u.blotName="code",u.tagName="CODE";var v=function(a){function b(){return r(this,b),s(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return t(b,a),e(b,[{key:"delta",value:function(){var b=this,c=this.domNode.textContent;return c.endsWith("\n")&&(c=c.slice(0,-1)),c.split("\n").reduce(function(a,c){return a.insert(c).insert("\n",b.formats())},new h.default)}},{key:"format",value:function(c,e){if(c!==this.statics.blotName||!e){var g=this.descendant(p.default,this.length()-1),h=d(g,1),i=h[0];null!=i&&i.deleteAt(i.length()-1,1),f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,c,e)}}},{key:"formatAt",value:function(c,d,e,f){if(0!==d&&null!=j.default.query(e,j.default.Scope.BLOCK)&&(e!==this.statics.blotName||f!==this.statics.formats(this.domNode))){var g=this.newlineIndex(c);if(!(g<0||g>=c+d)){var h=this.newlineIndex(c,!0)+1,i=g-h+1,k=this.isolate(h,i),l=k.next;k.format(e,f),l instanceof b&&l.formatAt(0,c-h+d-i,e,f)}}}},{key:"insertAt",value:function(b,c,e){if(null==e){var f=this.descendant(p.default,b),g=d(f,2),h=g[0],i=g[1];h.insertAt(i,c)}}},{key:"length",value:function a(){var a=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?a:a+1}},{key:"newlineIndex",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(c)return this.domNode.textContent.slice(0,b).lastIndexOf("\n");var d=this.domNode.textContent.slice(b).indexOf("\n");return d>-1?b+d:-1}},{key:"optimize",value:function(){this.domNode.textContent.endsWith("\n")||this.appendChild(j.default.create("text","\n")),f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this);var c=this.next;null!=c&&c.prev===this&&c.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===c.statics.formats(c.domNode)&&(c.optimize(),c.moveChildren(this),c.remove())}},{key:"replace",value:function(c){f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replace",this).call(this,c),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(a){var b=j.default.find(a);null==b?a.parentNode.removeChild(a):b instanceof j.default.Embed?b.remove():b.unwrap()})}}],[{key:"create",
    value:function(c){var d=f(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,c);return d.setAttribute("spellcheck",!1),d}},{key:"formats",value:function(){return!0}}]),b}(l.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",b.Code=u,b.default=v},function(a,b,c){"use strict";function t(a){return a&&a.__esModule?a:{default:a}}function u(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function v(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function w(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function A(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==a?b:("function"==typeof a.formats&&(b=(0,g.default)(b,a.formats())),null==a.parent||"scroll"==a.parent.blotName||a.parent.statics.scope!==a.statics.scope?b:A(a.parent,b))}Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.BlockEmbed=b.bubbleFormats=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},f=c(25),g=t(f),h=c(20),i=t(h),j=c(2),k=t(j),l=c(30),m=t(l),n=c(31),o=t(n),p=c(32),q=t(p),r=c(33),s=t(r),x=1,y=function(a){function b(){return u(this,b),v(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return w(b,a),d(b,[{key:"attach",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"attach",this).call(this),this.attributes=new k.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new i.default).insert(this.value(),(0,g.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(b,c){var d=k.default.query(b,k.default.Scope.BLOCK_ATTRIBUTE);null!=d&&this.attributes.attribute(d,c)}},{key:"formatAt",value:function(b,c,d,e){this.format(d,e)}},{key:"insertAt",value:function(c,d,f){if("string"==typeof d&&d.endsWith("\n")){var g=k.default.create(z.blotName);this.parent.insertBefore(g,0===c?this:this.next),g.insertAt(0,d.slice(0,-1))}else e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,c,d,f)}}]),b}(o.default);y.scope=k.default.Scope.BLOCK_BLOT;var z=function(a){function b(a){u(this,b);var c=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.cache={},c}return w(b,a),d(b,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(k.default.Leaf).reduce(function(a,b){return 0===b.length()?a:a.insert(b.value(),A(b))},new i.default).insert("\n",A(this))),this.cache.delta}},{key:"deleteAt",value:function(c,d){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,c,d),this.cache={}}},{key:"formatAt",value:function(c,d,f,g){d<=0||(k.default.query(f,k.default.Scope.BLOCK)?c+d===this.length()&&this.format(f,g):e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,c,Math.min(d,this.length()-c-1),f,g),this.cache={})}},{key:"insertAt",value:function(c,d,f){if(null!=f)return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,c,d,f);if(0!==d.length){var g=d.split("\n"),h=g.shift();h.length>0&&(c<this.length()-1||null==this.children.tail?e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,Math.min(c,this.length()-1),h):this.children.tail.insertAt(this.children.tail.length(),h),this.cache={});var i=this;g.reduce(function(a,b){return i=i.split(a,!0),i.insertAt(0,b),b.length},c+h.length)}}},{key:"insertBefore",value:function(c,d){var f=this.children.head;e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,c,d),f instanceof m.default&&f.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"length",this).call(this)+x),this.cache.length}},{key:"moveChildren",value:function(c,d){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"moveChildren",this).call(this,c,d),this.cache={}}},{key:"optimize",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this),this.cache={}}},{key:"path",value:function(c){return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,c,!0)}},{key:"removeChild",value:function(c){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"removeChild",this).call(this,c),this.cache={}}},{key:"split",value:function(c){var d=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d&&(0===c||c>=this.length()-x)){var f=this.clone();return 0===c?(this.parent.insertBefore(f,this),this):(this.parent.insertBefore(f,this.next),f)}var g=e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"split",this).call(this,c,d);return this.cache={},g}}]),b}(k.default.Block);z.blotName="block",z.tagName="P",z.defaultChild="break",z.allowedChildren=[q.default,o.default,s.default],b.bubbleFormats=A,b.BlockEmbed=y,b.default=z},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{default:a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},f=c(31),g=h(f),l=function(a){function b(){return i(this,b),j(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return k(b,a),d(b,[{key:"insertInto",value:function(c,d){0===c.children.length?e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertInto",this).call(this,c,d):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),b}(g.default);l.blotName="break",l.tagName="BR",b.default=l},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var d=c(2),e=f(d),j=function(a){function b(){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,a),b}(e.default.Embed);b.default=j},function(a,b,c){"use strict";function l(a){return a&&a.__esModule?a:{default:a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function o(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},f=c(31),g=l(f),h=c(33),i=l(h),j=c(2),k=l(j),p=function(a){function b(){return m(this,b),n(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,a),d(b,[{key:"formatAt",value:function(c,d,f,g){if(b.compare(this.statics.blotName,f)<0&&k.default.query(f,k.default.Scope.BLOT)){var h=this.isolate(c,d);g&&h.wrap(f,g)}else e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,c,d,f,g)}},{key:"optimize",value:function(){if(e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var c=this.parent.isolate(this.offset(),this.length());this.moveChildren(c),c.wrap(this)}}}],[{key:"compare",value:function(c,d){var e=b.order.indexOf(c),f=b.order.indexOf(d);return e>=0||f>=0?e-f:c===d?0:c<d?-1:1}}]),b}(k.default.Inline);p.allowedChildren=[p,g.default,i.default],p.order=["cursor","inline","code","underline","strike","italic","bold","script","link"],b.default=p},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var d=c(2),e=f(d),j=function(a){function b(){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,a),b}(e.default.Text);b.default=j},function(a,b,c){"use strict";function o(a){return a&&a.__esModule?a:{default:a}}function p(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function q(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function r(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var h,g=a[Symbol.iterator]();!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&g.return&&g.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(2),h=o(g),i=c(31),j=o(i),k=c(33),l=o(k),m=c(35),n=o(m),s=function(a){function b(a,c){p(this,b);var d=q(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return d.selection=c,d.textNode=document.createTextNode(b.CONTENTS),d.domNode.appendChild(d.textNode),d._length=0,d}return r(b,a),f(b,null,[{key:"value",value:function(){}}]),f(b,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(c,d){if(0!==this._length)return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,c,d);for(var f=this,g=0;null!=f&&f.statics.scope!==h.default.Scope.BLOCK_BLOT;)g+=f.offset(f.parent),f=f.parent;null!=f&&(this._length=b.CONTENTS.length,f.optimize(),f.formatAt(g,b.CONTENTS.length,c,d),this._length=0)}},{key:"index",value:function(c,d){return c===this.textNode?0:e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,c,d)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){var c=this;if(!this.selection.composing&&null!=this.parent){var e=this.textNode,f=this.selection.getNativeRange(),g=void 0,i=void 0,j=void 0;if(null!=f&&f.start.node===e&&f.end.node===e){var k=[e,f.start.offset,f.end.offset];g=k[0],i=k[1],j=k[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==b.CONTENTS){var m=this.textNode.data.split(b.CONTENTS).join("");this.next instanceof l.default?(g=this.next.domNode,this.next.insertAt(0,m),this.textNode.data=b.CONTENTS):(this.textNode.data=m,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(b.CONTENTS),this.domNode.appendChild(this.textNode))}this.remove(),null!=i&&this.selection.emitter.once(n.default.events.SCROLL_OPTIMIZE,function(){var a=[i,j].map(function(a){return Math.max(0,Math.min(g.data.length,a-1))}),b=d(a,2);i=b[0],j=b[1],c.selection.setNativeRange(g,i,g,j)})}}},{key:"update",value:function(b){var c=this;b.forEach(function(a){"characterData"===a.type&&a.target===c.textNode&&c.restore()})}},{key:"value",value:function(){return""}}]),b}(j.default);s.blotName="cursor",s.className="ql-cursor",s.tagName="span",s.CONTENTS="\ufeff",b.default=s},function(a,b,c){"use strict";function j(a){return a&&a.__esModule?a:{default:a}}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function m(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},f=c(36),g=j(f),h=c(37),i=j(h),n=(0,i.default)("quill:events"),o=function(a){function b(){k(this,b);var a=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.on("error",n.error),a}return m(b,a),d(b,[{key:"emit",value:function(){n.log.apply(n,arguments),e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}}]),b}(g.default);o.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},o.sources={API:"api",SILENT:"silent",USER:"user"},b.default=o},function(a,b){"use strict";function e(){}function f(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function g(){this._events=new e,this._eventsCount=0}var c=Object.prototype.hasOwnProperty,d="~";Object.create&&(e.prototype=Object.create(null),(new e).__proto__||(d=!1)),g.prototype.eventNames=function(){var e,f,b=[];if(0===this._eventsCount)return b;for(f in e=this._events)c.call(e,f)&&b.push(d?f.slice(1):f);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(e)):b},g.prototype.listeners=function(b,c){var e=d?d+b:b,f=this._events[e];if(c)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var g=0,h=f.length,i=new Array(h);g<h;g++)i[g]=f[g].fn;return i},g.prototype.emit=function(b,c,e,f,g,h){var i=d?d+b:b;if(!this._events[i])return!1;var l,m,j=this._events[i],k=arguments.length;if(j.fn){switch(j.once&&this.removeListener(b,j.fn,void 0,!0),k){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,c),!0;case 3:return j.fn.call(j.context,c,e),!0;case 4:return j.fn.call(j.context,c,e,f),!0;case 5:return j.fn.call(j.context,c,e,f,g),!0;case 6:return j.fn.call(j.context,c,e,f,g,h),!0}for(m=1,l=new Array(k-1);m<k;m++)l[m-1]=arguments[m];j.fn.apply(j.context,l)}else{var o,n=j.length;for(m=0;m<n;m++)switch(j[m].once&&this.removeListener(b,j[m].fn,void 0,!0),k){case 1:j[m].fn.call(j[m].context);break;case 2:j[m].fn.call(j[m].context,c);break;case 3:j[m].fn.call(j[m].context,c,e);break;case 4:j[m].fn.call(j[m].context,c,e,f);break;default:if(!l)for(o=1,l=new Array(k-1);o<k;o++)l[o-1]=arguments[o];j[m].fn.apply(j[m].context,l)}}return!0},g.prototype.on=function(b,c,e){var g=new f(c,e||this),h=d?d+b:b;return this._events[h]?this._events[h].fn?this._events[h]=[this._events[h],g]:this._events[h].push(g):(this._events[h]=g,this._eventsCount++),this},g.prototype.once=function(b,c,e){var g=new f(c,e||this,!0),h=d?d+b:b;return this._events[h]?this._events[h].fn?this._events[h]=[this._events[h],g]:this._events[h].push(g):(this._events[h]=g,this._eventsCount++),this},g.prototype.removeListener=function(b,c,f,g){var h=d?d+b:b;if(!this._events[h])return this;if(!c)return 0===--this._eventsCount?this._events=new e:delete this._events[h],this;var i=this._events[h];if(i.fn)i.fn!==c||g&&!i.once||f&&i.context!==f||(0===--this._eventsCount?this._events=new e:delete this._events[h]);else{for(var j=0,k=[],l=i.length;j<l;j++)(i[j].fn!==c||g&&!i[j].once||f&&i[j].context!==f)&&k.push(i[j]);k.length?this._events[h]=1===k.length?k[0]:k:0===--this._eventsCount?this._events=new e:delete this._events[h]}return this},g.prototype.removeAllListeners=function(b){var c;return b?(c=d?d+b:b,this._events[c]&&(0===--this._eventsCount?this._events=new e:delete this._events[c])):(this._events=new e,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prototype.setMaxListeners=function(){return this},g.prefixed=d,g.EventEmitter=g,"undefined"!=typeof a&&(a.exports=g)},function(a,b){"use strict";function e(a){if(c.indexOf(a)<=c.indexOf(d)){for(var b=arguments.length,e=Array(b>1?b-1:0),f=1;f<b;f++)e[f-1]=arguments[f];console[a].apply(console,e)}}function f(a){return c.reduce(function(b,c){return b[c]=e.bind(console,c,a),b},{})}Object.defineProperty(b,"__esModule",{value:!0});var c=["error","warn","log","info"],d="warn";e.level=f.level=function(a){d=a},b.default=f},function(a,b){var c=function(){"use strict";function d(e,f,g,h,j){function n(e,g){if(null===e)return null;if(0===g)return e;var o,p;if("object"!=typeof e)return e;if(e instanceof a)o=new a;else if(e instanceof b)o=new b;else if(e instanceof c)o=new c(function(a,b){e.then(function(b){a(n(b,g-1))},function(a){b(n(a,g-1))})});else if(d.__isArray(e))o=[];else if(d.__isRegExp(e))o=new RegExp(e.source,i(e)),e.lastIndex&&(o.lastIndex=e.lastIndex);else if(d.__isDate(e))o=new Date(e.getTime());else{if(m&&Buffer.isBuffer(e))return o=new Buffer(e.length),e.copy(o),o;e instanceof Error?o=Object.create(e):"undefined"==typeof h?(p=Object.getPrototypeOf(e),o=Object.create(p)):(o=Object.create(h),p=h)}if(f){var q=k.indexOf(e);if(q!=-1)return l[q];k.push(e),l.push(o)}if(e instanceof a)for(var r=e.keys();;){var s=r.next();if(s.done)break;var t=n(s.value,g-1),u=n(e.get(s.value),g-1);o.set(t,u)}if(e instanceof b)for(var v=e.keys();;){var s=v.next();if(s.done)break;var w=n(s.value,g-1);o.add(w)}for(var x in e){var y;p&&(y=Object.getOwnPropertyDescriptor(p,x)),y&&null==y.set||(o[x]=n(e[x],g-1))}if(Object.getOwnPropertySymbols)for(var z=Object.getOwnPropertySymbols(e),x=0;x<z.length;x++){var A=z[x],B=Object.getOwnPropertyDescriptor(e,A);(!B||B.enumerable||j)&&(o[A]=n(e[A],g-1),B.enumerable||Object.defineProperty(o,A,{enumerable:!1}))}if(j)for(var C=Object.getOwnPropertyNames(e),x=0;x<C.length;x++){var D=C[x],B=Object.getOwnPropertyDescriptor(e,D);B&&B.enumerable||(o[D]=n(e[D],g-1),Object.defineProperty(o,D,{enumerable:!1}))}return o}"object"==typeof f&&(g=f.depth,h=f.prototype,j=f.includeNonEnumerable,f=f.circular);var k=[],l=[],m="undefined"!=typeof Buffer;return"undefined"==typeof f&&(f=!0),"undefined"==typeof g&&(g=1/0),n(e,g)}function e(a){return Object.prototype.toString.call(a)}function f(a){return"object"==typeof a&&"[object Date]"===e(a)}function g(a){return"object"==typeof a&&"[object Array]"===e(a)}function h(a){return"object"==typeof a&&"[object RegExp]"===e(a)}function i(a){var b="";return a.global&&(b+="g"),a.ignoreCase&&(b+="i"),a.multiline&&(b+="m"),b}var a;try{a=Map}catch(b){a=function(){}}var b;try{b=Set}catch(a){b=function(){}}var c;try{c=Promise}catch(a){c=function(){}}return d.clonePrototype=function(b){if(null===b)return null;var c=function(){};return c.prototype=b,new c},d.__objToStr=e,d.__isDate=f,d.__isArray=g,d.__isRegExp=h,d.__getRegExpFlags=i,d}();"object"==typeof a&&a.exports&&(a.exports=c)},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function a(b){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,a),this.quill=b,this.options=d};d.DEFAULTS={},b.default=d},function(a,b,c){"use strict";function p(a){return a&&a.__esModule?a:{default:a}}function q(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function r(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function v(a,b){try{b.parentNode}catch(a){return!1}return b instanceof Text&&(b=b.parentNode),a.contains(b)}Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.Range=void 0;var d=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var h,g=a[Symbol.iterator]();!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&g.return&&g.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(2),g=p(f),h=c(38),i=p(h),j=c(22),k=p(j),l=c(35),m=p(l),n=c(37),o=p(n),s=(0,o.default)("quill:selection"),t=function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,a),this.index=b,this.length=c},u=function(){function a(b,c){var d=this;r(this,a),this.emitter=c,this.scroll=b,this.composing=!1,this.root=this.scroll.domNode,this.root.addEventListener("compositionstart",function(){d.composing=!0}),this.root.addEventListener("compositionend",function(){d.composing=!1}),this.cursor=g.default.create("cursor",this),this.lastRange=this.savedRange=new t(0,0),["keyup","mouseup","mouseleave","touchend","touchleave","focus","blur"].forEach(function(a){d.root.addEventListener(a,function(){setTimeout(d.update.bind(d,m.default.sources.USER),100)})}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(a,b){a===m.default.events.TEXT_CHANGE&&b.length()>0&&d.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){var a=d.getNativeRange();null!=a&&a.start.node!==d.cursor.textNode&&d.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{d.setNativeRange(a.start.node,a.start.offset,a.end.node,a.end.offset)}catch(a){}})}),this.update(m.default.sources.SILENT)}return e(a,[{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(b,c){if(null==this.scroll.whitelist||this.scroll.whitelist[b]){this.scroll.update();var d=this.getNativeRange();if(null!=d&&d.native.collapsed&&!g.default.query(b,g.default.Scope.BLOCK)){if(d.start.node!==this.cursor.textNode){var e=g.default.find(d.start.node,!1);if(null==e)return;if(e instanceof g.default.Leaf){var f=e.split(d.start.offset);e.parent.insertBefore(this.cursor,f)}else e.insertBefore(this.cursor,d.start.node);this.cursor.attach()}this.cursor.format(b,c),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=this.scroll.length();b=Math.min(b,e-1),c=Math.min(b+c,e-1)-b;var f=void 0,g=void 0,h=this.scroll.leaf(b),i=d(h,2),j=i[0],k=i[1];if(null==j)return null;var l=j.position(k,!0),m=d(l,2);g=m[0],k=m[1];var n=document.createRange();if(c>0){n.setStart(g,k);var o=this.scroll.leaf(b+c),p=d(o,2);if(j=p[0],k=p[1],null==j)return null;var q=j.position(k,!0),r=d(q,2);g=r[0],k=r[1],n.setEnd(g,k),f=n.getBoundingClientRect()}else{var s="left",t=void 0;g instanceof Text?(k<g.data.length?(n.setStart(g,k),n.setEnd(g,k+1)):(n.setStart(g,k-1),n.setEnd(g,k),s="right"),t=n.getBoundingClientRect()):(t=j.domNode.getBoundingClientRect(),k>0&&(s="right")),f={height:t.height,left:t[s],width:0,top:t.top}}var u=this.root.parentNode.getBoundingClientRect();return{left:f.left-u.left,right:f.left+f.width-u.left,top:f.top-u.top,bottom:f.top+f.height-u.top,height:f.height,width:f.width}}},{key:"getNativeRange",value:function(){var b=document.getSelection();if(null==b||b.rangeCount<=0)return null;var c=b.getRangeAt(0);if(null==c)return null;if(!v(this.root,c.startContainer)||!c.collapsed&&!v(this.root,c.endContainer))return null;var d={start:{node:c.startContainer,offset:c.startOffset},end:{node:c.endContainer,offset:c.endOffset},native:c};return[d.start,d.end].forEach(function(a){for(var b=a.node,c=a.offset;!(b instanceof Text)&&b.childNodes.length>0;)if(b.childNodes.length>c)b=b.childNodes[c],c=0;else{if(b.childNodes.length!==c)break;b=b.lastChild,c=b instanceof Text?b.data.length:b.childNodes.length+1}a.node=b,a.offset=c}),s.info("getNativeRange",d),d}},{key:"getRange",value:function(){var b=this,c=this.getNativeRange();if(null==c)return[null,null];var e=[[c.start.node,c.start.offset]];c.native.collapsed||e.push([c.end.node,c.end.offset]);var f=e.map(function(a){var c=d(a,2),e=c[0],f=c[1],h=g.default.find(e,!0),i=h.offset(b.scroll);return 0===f?i:h instanceof g.default.Container?i+h.length():i+h.index(e,f)}),h=Math.min.apply(Math,q(f)),i=Math.max.apply(Math,q(f));return i=Math.min(i,this.scroll.length()-1),[new t(h,i-h),c]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"scrollIntoView",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastRange;if(null!=b){var c=this.getBounds(b.index,b.length);if(null!=c)if(this.root.offsetHeight<c.bottom){var e=this.scroll.line(Math.min(b.index+b.length,this.scroll.length()-1)),f=d(e,1),g=f[0];this.root.scrollTop=g.domNode.offsetTop+g.domNode.offsetHeight-this.root.offsetHeight}else if(c.top<0){var h=this.scroll.line(Math.min(b.index,this.scroll.length()-1)),i=d(h,1),j=i[0];this.root.scrollTop=j.domNode.offsetTop}}}},{key:"setNativeRange",value:function(b,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c,f=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(s.info("setNativeRange",b,c,d,e),null==b||null!=this.root.parentNode&&null!=b.parentNode&&null!=d.parentNode){var g=document.getSelection();if(null!=g)if(null!=b){this.hasFocus()||this.root.focus();var h=(this.getNativeRange()||{}).native;if(null==h||f||b!==h.startContainer||c!==h.startOffset||d!==h.endContainer||e!==h.endOffset){"BR"==b.tagName&&(c=[].indexOf.call(b.parentNode.childNodes,b),b=b.parentNode),"BR"==d.tagName&&(e=[].indexOf.call(d.parentNode.childNodes,d),d=d.parentNode);var i=document.createRange();i.setStart(b,c),i.setEnd(d,e),g.removeAllRanges(),g.addRange(i)}}else g.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(b){var c=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.default.sources.API;"string"==typeof e&&(f=e,e=!1),s.info("setRange",b),null!=b?!function(){var a=b.collapsed?[b.index]:[b.index,b.index+b.length],f=[],g=c.scroll.length();a.forEach(function(a,b){a=Math.min(g-1,a);var e=void 0,h=c.scroll.leaf(a),i=d(h,2),j=i[0],k=i[1],l=j.position(k,0!==b),m=d(l,2);e=m[0],k=m[1],f.push(e,k)}),f.length<2&&(f=f.concat(f)),c.setNativeRange.apply(c,q(f).concat([e]))}():this.setNativeRange(null),this.update(f)}},{key:"update",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.default.sources.USER,c=this.lastRange,e=this.getRange(),f=d(e,2),g=f[0],h=f[1];if(this.lastRange=g,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,k.default)(c,this.lastRange)){var j;!this.composing&&null!=h&&h.native.collapsed&&h.start.node!==this.cursor.textNode&&this.cursor.restore();var l=[m.default.events.SELECTION_CHANGE,(0,i.default)(this.lastRange),(0,i.default)(c),b];if((j=this.emitter).emit.apply(j,[m.default.events.EDITOR_CHANGE].concat(l)),b!==m.default.sources.SILENT){var n;(n=this.emitter).emit.apply(n,l)}}}}]),a}();b.Range=t,b.default=u},function(a,b){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,c){d(this,a),this.quill=b,this.options=c,
    this.modules={}}return c(a,[{key:"init",value:function(){var b=this;Object.keys(this.options.modules).forEach(function(a){null==b.modules[a]&&b.addModule(a)})}},{key:"addModule",value:function(b){var c=this.quill.constructor.import("modules/"+b);return this.modules[b]=new c(this.quill,this.options.modules[b]||{}),this.modules[b]}}]),a}();e.DEFAULTS={modules:{}},e.themes={default:e},b.default=e},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{default:a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var d=c(2),e=h(d),f=c(29),g=h(f),l=function(a){function b(){return i(this,b),j(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return k(b,a),b}(e.default.Container);l.allowedChildren=[g.default,f.BlockEmbed,l],b.default=l},function(a,b,c){"use strict";function s(a){return a&&a.__esModule?a:{default:a}}function t(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function u(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function v(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function w(a){return a instanceof l.default||a instanceof k.BlockEmbed}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var h,g=a[Symbol.iterator]();!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&g.return&&g.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},g=c(2),h=s(g),i=c(35),j=s(i),k=c(29),l=s(k),m=c(30),n=s(m),o=c(42),p=s(o),q=c(28),r=s(q),x=function(a){function b(a,c){t(this,b);var d=u(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return d.emitter=c.emitter,Array.isArray(c.whitelist)&&(d.whitelist=c.whitelist.reduce(function(a,b){return a[b]=!0,a},{})),d.optimize(),d.enable(),d}return v(b,a),e(b,[{key:"deleteAt",value:function(c,e){var g=this.line(c),h=d(g,2),i=h[0],j=h[1],l=this.line(c+e),m=d(l,1),o=m[0];if(f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,c,e),null!=o&&i!==o&&j>0&&!(i instanceof k.BlockEmbed)&&!(o instanceof k.BlockEmbed)){o instanceof r.default&&o.deleteAt(o.length()-1,1);var p=o.children.head instanceof n.default?null:o.children.head;i.moveChildren(o,p),i.remove()}this.optimize()}},{key:"enable",value:function(){var b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",b)}},{key:"formatAt",value:function(c,d,e,g){(null==this.whitelist||this.whitelist[e])&&(f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,c,d,e,g),this.optimize())}},{key:"insertAt",value:function(c,d,e){if(null==e||null==this.whitelist||this.whitelist[d]){if(c>=this.length())if(null==e||null==h.default.query(d,h.default.Scope.BLOCK)){var g=h.default.create(this.statics.defaultChild);this.appendChild(g),null==e&&d.endsWith("\n")&&(d=d.slice(0,-1)),g.insertAt(0,d,e)}else{var i=h.default.create(d,e);this.appendChild(i)}else f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,c,d,e);this.optimize()}}},{key:"insertBefore",value:function(c,d){if(c.statics.scope===h.default.Scope.INLINE_BLOT){var e=h.default.create(this.statics.defaultChild);e.appendChild(c),c=e}f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,c,d)}},{key:"leaf",value:function(b){return this.path(b).pop()||[null,-1]}},{key:"line",value:function(b){return b===this.length()?this.line(b-1):this.descendant(w,b)}},{key:"lines",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,d=function a(b,c,d){var e=[],f=d;return b.children.forEachAt(c,d,function(b,c,d){w(b)?e.push(b):b instanceof h.default.Container&&(e=e.concat(a(b,c,f))),f-=d}),e};return d(this,b,c)}},{key:"optimize",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.batch!==!0&&(f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,c),c.length>0&&this.emitter.emit(j.default.events.SCROLL_OPTIMIZE,c))}},{key:"path",value:function(c){return f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,c).slice(1)}},{key:"update",value:function(c){if(this.batch!==!0){var d=j.default.sources.USER;"string"==typeof c&&(d=c),Array.isArray(c)||(c=this.observer.takeRecords()),c.length>0&&this.emitter.emit(j.default.events.SCROLL_BEFORE_UPDATE,d,c),f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"update",this).call(this,c.concat([])),c.length>0&&this.emitter.emit(j.default.events.SCROLL_UPDATE,d,c)}}}]),b}(h.default.Scroll);x.blotName="scroll",x.className="ql-editor",x.tagName="DIV",x.defaultChild="block",x.allowedChildren=[l.default,k.BlockEmbed,p.default],b.default=x},function(a,b,c){"use strict";function v(a){return a&&a.__esModule?a:{default:a}}function w(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function x(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function y(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function z(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function A(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function H(a){if(a.nodeType!==Node.ELEMENT_NODE)return{};var b="__ql-computed-style";return a[b]||(a[b]=window.getComputedStyle(a))}function I(a,b){for(var c="",d=a.ops.length-1;d>=0&&c.length<b.length;--d){var e=a.ops[d];if("string"!=typeof e.insert)break;c=e.insert+c}return c.slice(-1*b.length)===b}function J(a){if(0===a.childNodes.length)return!1;var b=H(a);return["block","list-item"].indexOf(b.display)>-1}function K(a,b,c){return a.nodeType===a.TEXT_NODE?c.reduce(function(b,c){return c(a,b)},new g.default):a.nodeType===a.ELEMENT_NODE?[].reduce.call(a.childNodes||[],function(d,e){var f=K(e,b,c);return e.nodeType===a.ELEMENT_NODE&&(f=b.reduce(function(a,b){return b(e,a)},f),f=(e[C]||[]).reduce(function(a,b){return b(e,a)},f)),d.concat(f)},new g.default):new g.default}function L(a,b,c){return c.compose((new g.default).retain(c.length(),w({},a,!0)))}function M(a,b){var c=i.default.Attributor.Attribute.keys(a),d=i.default.Attributor.Class.keys(a),e=i.default.Attributor.Style.keys(a),f={};return c.concat(d).concat(e).forEach(function(b){var c=i.default.query(b,i.default.Scope.ATTRIBUTE);null!=c&&(f[c.attrName]=c.value(a),f[c.attrName])||(null!=E[b]&&(c=E[b],f[c.attrName]=c.value(a)||void 0),null!=F[b]&&(c=F[b],f[c.attrName]=c.value(a)||void 0))}),Object.keys(f).length>0&&(b=b.compose((new g.default).retain(b.length(),f))),b}function N(a,b){var c=i.default.query(a);if(null==c)return b;if(c.prototype instanceof i.default.Embed){var d={},e=c.value(a);null!=e&&(d[c.blotName]=e,b=(new g.default).insert(d,c.formats(a)))}else if("function"==typeof c.formats){var f=w({},c.blotName,c.formats(a));b=b.compose((new g.default).retain(b.length(),f))}return b}function O(a,b){return I(b,"\n")||b.insert("\n"),b}function P(){return new g.default}function Q(a,b){return J(a)&&!I(b,"\n")&&b.insert("\n"),b}function R(a,b){if(J(a)&&null!=a.nextElementSibling&&!I(b,"\n\n")){var c=a.offsetHeight+parseFloat(H(a).marginTop)+parseFloat(H(a).marginBottom);a.nextElementSibling.offsetTop>a.offsetTop+1.5*c&&b.insert("\n")}return b}function S(a,b){var c={},d=a.style||{};return d.fontStyle&&"italic"===H(a).fontStyle&&(c.italic=!0),d.fontWeight&&"bold"===H(a).fontWeight&&(c.bold=!0),Object.keys(c).length>0&&(b=b.compose((new g.default).retain(b.length(),c))),parseFloat(d.textIndent||0)>0&&(b=(new g.default).insert("\t").concat(b)),b}function T(a,b){var c=a.data;if("O:P"===a.parentNode.tagName)return b.insert(c.trim());if(!H(a.parentNode).whiteSpace.startsWith("pre")){var d=function(b,c){return c=c.replace(/[^\u00a0]/g,""),c.length<1&&b?" ":c};c=c.replace(/\r\n/g," ").replace(/\n/g," "),c=c.replace(/\s\s+/g,d.bind(d,!0)),(null==a.previousSibling&&J(a.parentNode)||null!=a.previousSibling&&J(a.previousSibling))&&(c=c.replace(/^\s+/,d.bind(d,!1))),(null==a.nextSibling&&J(a.parentNode)||null!=a.nextSibling&&J(a.nextSibling))&&(c=c.replace(/\s+$/,d.bind(d,!1)))}return b.insert(c)}Object.defineProperty(b,"__esModule",{value:!0}),b.matchText=b.matchSpacing=b.matchNewline=b.matchBlot=b.matchAttributor=b.default=void 0;var d=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var h,g=a[Symbol.iterator]();!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&g.return&&g.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(20),g=v(f),h=c(2),i=v(h),j=c(18),k=v(j),l=c(37),m=v(l),n=c(39),o=v(n),p=c(45),q=c(46),r=c(47),s=c(48),t=c(49),u=c(50),B=(0,m.default)("quill:clipboard"),C="__ql-matcher",D=[[Node.TEXT_NODE,T],["br",O],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,S],["b",L.bind(L,"bold")],["i",L.bind(L,"italic")],["style",P]],E=[p.AlignAttribute,s.DirectionAttribute].reduce(function(a,b){return a[b.keyName]=b,a},{}),F=[p.AlignStyle,q.BackgroundStyle,r.ColorStyle,s.DirectionStyle,t.FontStyle,u.SizeStyle].reduce(function(a,b){return a[b.keyName]=b,a},{}),G=function(a){function b(a,c){y(this,b);var d=z(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.quill.root.addEventListener("paste",d.onPaste.bind(d)),d.container=d.quill.addContainer("ql-clipboard"),d.container.setAttribute("contenteditable",!0),d.container.setAttribute("tabindex",-1),d.matchers=[],D.concat(d.options.matchers).forEach(function(a){d.addMatcher.apply(d,x(a))}),d}return A(b,a),e(b,[{key:"addMatcher",value:function(b,c){this.matchers.push([b,c])}},{key:"convert",value:function(b){"string"==typeof b&&(this.container.innerHTML=b);var c=this.prepareMatching(),e=d(c,2),f=e[0],h=e[1],i=K(this.container,f,h);return I(i,"\n")&&null==i.ops[i.ops.length-1].attributes&&(i=i.compose((new g.default).retain(i.length()-1).delete(1))),B.log("convert",this.container.innerHTML,i),this.container.innerHTML="",i}},{key:"dangerouslyPasteHTML",value:function(b,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.default.sources.API;if("string"==typeof b)return this.quill.setContents(this.convert(b),c);var e=this.convert(c);return this.quill.updateContents((new g.default).retain(b).concat(e),d)}},{key:"onPaste",value:function(b){var c=this;if(!b.defaultPrevented&&this.quill.isEnabled()){var d=this.quill.getSelection(),e=(new g.default).retain(d.index),f=this.quill.scrollingContainer.scrollTop;this.container.focus(),setTimeout(function(){c.quill.selection.update(k.default.sources.SILENT),e=e.concat(c.convert()).delete(d.length),c.quill.updateContents(e,k.default.sources.USER),c.quill.setSelection(e.length()-d.length,k.default.sources.SILENT),c.quill.scrollingContainer.scrollTop=f,c.quill.selection.scrollIntoView()},1)}}},{key:"prepareMatching",value:function(){var b=this,c=[],e=[];return this.matchers.forEach(function(a){var f=d(a,2),g=f[0],h=f[1];switch(g){case Node.TEXT_NODE:e.push(h);break;case Node.ELEMENT_NODE:c.push(h);break;default:[].forEach.call(b.container.querySelectorAll(g),function(a){a[C]=a[C]||[],a[C].push(h)})}}),[c,e]}}]),b}(o.default);G.DEFAULTS={matchers:[]},b.default=G,b.matchAttributor=M,b.matchBlot=N,b.matchNewline=Q,b.matchSpacing=R,b.matchText=T},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0}),b.AlignStyle=b.AlignClass=b.AlignAttribute=void 0;var d=c(2),e=f(d),g={scope:e.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new e.default.Attributor.Attribute("align","align",g),i=new e.default.Attributor.Class("align","ql-align",g),j=new e.default.Attributor.Style("align","text-align",g);b.AlignAttribute=h,b.AlignClass=i,b.AlignStyle=j},function(a,b,c){"use strict";function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0}),b.BackgroundStyle=b.BackgroundClass=void 0;var d=c(2),e=g(d),f=c(47),h=new e.default.Attributor.Class("background","ql-bg",{scope:e.default.Scope.INLINE}),i=new f.ColorAttributor("background","background-color",{scope:e.default.Scope.INLINE});b.BackgroundClass=h,b.BackgroundStyle=i},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{default:a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.ColorStyle=b.ColorClass=b.ColorAttributor=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},f=c(2),g=h(f),l=function(a){function b(){return i(this,b),j(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return k(b,a),d(b,[{key:"value",value:function a(c){var a=e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,c);return a.startsWith("rgb(")?(a=a.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+a.split(",").map(function(a){return("00"+parseInt(a).toString(16)).slice(-2)}).join("")):a}}]),b}(g.default.Attributor.Style),m=new g.default.Attributor.Class("color","ql-color",{scope:g.default.Scope.INLINE}),n=new l("color","color",{scope:g.default.Scope.INLINE});b.ColorAttributor=l,b.ColorClass=m,b.ColorStyle=n},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0}),b.DirectionStyle=b.DirectionClass=b.DirectionAttribute=void 0;var d=c(2),e=f(d),g={scope:e.default.Scope.BLOCK,whitelist:["rtl"]},h=new e.default.Attributor.Attribute("direction","dir",g),i=new e.default.Attributor.Class("direction","ql-direction",g),j=new e.default.Attributor.Style("direction","direction",g);b.DirectionAttribute=h,b.DirectionClass=i,b.DirectionStyle=j},function(a,b,c){"use strict";function h(a){return a&&a.__esModule?a:{default:a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.FontClass=b.FontStyle=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},f=c(2),g=h(f),l={scope:g.default.Scope.INLINE,whitelist:["serif","monospace"]},m=new g.default.Attributor.Class("font","ql-font",l),n=function(a){function b(){return i(this,b),j(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return k(b,a),d(b,[{key:"value",value:function(c){return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,c).replace(/["']/g,"")}}]),b}(g.default.Attributor.Style),o=new n("font","font-family",l);b.FontStyle=o,b.FontClass=m},function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0}),b.SizeStyle=b.SizeClass=void 0;var d=c(2),e=f(d),g=new e.default.Attributor.Class("size","ql-size",{scope:e.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new e.default.Attributor.Style("size","font-size",{scope:e.default.Scope.INLINE,whitelist:["10px","18px","32px"]});b.SizeClass=g,b.SizeStyle=h},function(a,b,c){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function n(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function p(a){var b=a.ops[a.ops.length-1];return null!=b&&(null!=b.insert?"string"==typeof b.insert&&b.insert.endsWith("\n"):null!=b.attributes&&Object.keys(b.attributes).some(function(a){return null!=f.default.query(a,f.default.Scope.BLOCK)}))}function q(a){var b=a.reduce(function(a,b){return a+=b.delete||0},0),c=a.length()-b;return p(a)&&(c-=1),c}Object.defineProperty(b,"__esModule",{value:!0}),b.getLastChangeIndex=b.default=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(2),f=k(e),g=c(18),h=k(g),i=c(39),j=k(i),o=function(a){function b(a,c){l(this,b);var d=m(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.lastRecorded=0,d.ignoreChange=!1,d.clear(),d.quill.on(h.default.events.EDITOR_CHANGE,function(a,b,c,e){a!==h.default.events.TEXT_CHANGE||d.ignoreChange||(d.options.userOnly&&e!==h.default.sources.USER?d.transform(b):d.record(b,c))}),d.quill.keyboard.addBinding({key:"Z",shortKey:!0},d.undo.bind(d)),d.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},d.redo.bind(d)),/Win/i.test(navigator.platform)&&d.quill.keyboard.addBinding({key:"Y",shortKey:!0},d.redo.bind(d)),d}return n(b,a),d(b,[{key:"change",value:function(b,c){if(0!==this.stack[b].length){var d=this.stack[b].pop();this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(d[b],h.default.sources.USER),this.ignoreChange=!1;var e=q(d[b]);this.quill.setSelection(e),this.quill.selection.scrollIntoView(),this.stack[c].push(d)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"record",value:function(b,c){if(0!==b.ops.length){this.stack.redo=[];var d=this.quill.getContents().diff(c),e=Date.now();if(this.lastRecorded+this.options.delay>e&&this.stack.undo.length>0){var f=this.stack.undo.pop();d=d.compose(f.undo),b=f.redo.compose(b)}else this.lastRecorded=e;this.stack.undo.push({redo:b,undo:d}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(b){this.stack.undo.forEach(function(a){a.undo=b.transform(a.undo,!0),a.redo=b.transform(a.redo,!0)}),this.stack.redo.forEach(function(a){a.undo=b.transform(a.undo,!0),a.redo=b.transform(a.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(j.default);o.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},b.default=o,b.getLastChangeIndex=q},function(a,b,c){"use strict";function w(a){return a&&a.__esModule?a:{default:a}}function x(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function y(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function z(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function D(a,b){if(0!==a.index){var c=this.quill.getLine(a.index),d=e(c,1),f=d[0],g={};if(0===b.offset){var h=f.formats(),i=this.quill.getFormat(a.index-1,1);g=n.default.attributes.diff(h,i)||{}}var j=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(b.prefix)?2:1;this.quill.deleteText(a.index-j,j,r.default.sources.USER),Object.keys(g).length>0&&this.quill.formatLine(a.index-j,j,g,r.default.sources.USER),this.quill.selection.scrollIntoView()}}function E(a,b){var c=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(b.suffix)?2:1;a.index>=this.quill.getLength()-c||this.quill.deleteText(a.index,c,r.default.sources.USER)}function F(a){this.quill.deleteText(a,r.default.sources.USER),this.quill.setSelection(a.index,r.default.sources.SILENT),this.quill.selection.scrollIntoView()}function G(a,b){var c=this;a.length>0&&this.quill.scroll.deleteAt(a.index,a.length);var d=Object.keys(b.format).reduce(function(a,c){return p.default.query(c,p.default.Scope.BLOCK)&&!Array.isArray(b.format[c])&&(a[c]=b.format[c]),a},{});this.quill.insertText(a.index,"\n",d,r.default.sources.USER),this.quill.setSelection(a.index+1,r.default.sources.SILENT),this.quill.selection.scrollIntoView(),Object.keys(b.format).forEach(function(a){null==d[a]&&(Array.isArray(b.format[a])||"link"!==a&&c.quill.format(a,b.format[a],r.default.sources.USER))})}function H(a){return{key:C.keys.TAB,shiftKey:!a,format:{"code-block":!0},handler:function(c){var d=p.default.query("code-block"),f=c.index,g=c.length,h=this.quill.scroll.descendant(d,f),i=e(h,2),j=i[0],k=i[1];if(null!=j){var l=this.quill.getIndex(j),m=j.newlineIndex(k,!0)+1,n=j.newlineIndex(l+k+g),o=j.domNode.textContent.slice(m,n).split("\n");k=0,o.forEach(function(b,c){a?(j.insertAt(m+k,d.TAB),k+=d.TAB.length,0===c?f+=d.TAB.length:g+=d.TAB.length):b.startsWith(d.TAB)&&(j.deleteAt(m+k,d.TAB.length),k-=d.TAB.length,0===c?f-=d.TAB.length:g-=d.TAB.length),k+=b.length+1}),this.quill.update(r.default.sources.USER),this.quill.setSelection(f,g,r.default.sources.SILENT)}}}}function I(a){return{key:a[0].toUpperCase(),shortKey:!0,handler:function(c,d){this.quill.format(a,!d.format[a],r.default.sources.USER)}}}function J(a){if("string"==typeof a||"number"==typeof a)return J({key:a});if("object"===("undefined"==typeof a?"undefined":d(a))&&(a=(0,h.default)(a,!1)),"string"==typeof a.key)if(null!=C.keys[a.key.toUpperCase()])a.key=C.keys[a.key.toUpperCase()];else{if(1!==a.key.length)return null;a.key=a.key.toUpperCase().charCodeAt(0)}return a}Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var h,g=a[Symbol.iterator]();!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&g.return&&g.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(38),h=w(g),i=c(22),j=w(i),k=c(25),l=w(k),m=c(26),n=w(m),o=c(2),p=w(o),q=c(18),r=w(q),s=c(37),t=w(s),u=c(39),v=w(u),A=(0,t.default)("quill:keyboard"),B=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",C=function(a){function b(a,c){x(this,b);var d=y(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.bindings={},Object.keys(d.options.bindings).forEach(function(a){d.options.bindings[a]&&d.addBinding(d.options.bindings[a])}),d.addBinding({key:b.keys.ENTER,shiftKey:null},G),d.addBinding({key:b.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(d.addBinding({key:b.keys.BACKSPACE},{collapsed:!0},D),d.addBinding({key:b.keys.DELETE},{collapsed:!0},E)):(d.addBinding({key:b.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),d.addBinding({key:b.keys.DELETE},{collapsed:!0,suffix:/^.?$/},E)),d.addBinding({key:b.keys.BACKSPACE},{collapsed:!1},F),d.addBinding({key:b.keys.DELETE},{collapsed:!1},F),d.listen(),d}return z(b,a),f(b,null,[{key:"match",value:function(b,c){return c=J(c),(!!c.shortKey===b[B]||null===c.shortKey)&&(!["altKey","ctrlKey","metaKey","shiftKey"].some(function(a){return a!=B&&!!c[a]!==b[a]&&null!==c[a]})&&c.key===(b.which||b.keyCode))}}]),f(b,[{key:"addBinding",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=J(b);return null==e||null==e.key?A.warn("Attempted to add invalid keyboard binding",e):("function"==typeof c&&(c={handler:c}),"function"==typeof d&&(d={handler:d}),e=(0,l.default)(e,c,d),this.bindings[e.key]=this.bindings[e.key]||[],void this.bindings[e.key].push(e))}},{key:"listen",value:function(){var c=this;this.quill.root.addEventListener("keydown",function(a){if(!a.defaultPrevented){var f=a.which||a.keyCode,g=(c.bindings[f]||[]).filter(function(c){return b.match(a,c)});if(0!==g.length){var h=c.quill.getSelection();if(null!=h&&c.quill.hasFocus()){var i=c.quill.getLine(h.index),k=e(i,2),l=k[0],m=k[1],n=c.quill.getLeaf(h.index),o=e(n,2),q=o[0],r=o[1],s=0===h.length?[q,r]:c.quill.getLeaf(h.index+h.length),t=e(s,2),u=t[0],v=t[1],w=q instanceof p.default.Text?q.value().slice(0,r):"",x=u instanceof p.default.Text?u.value().slice(v):"",y={collapsed:0===h.length,empty:0===h.length&&l.length()<=1,format:c.quill.getFormat(h),offset:m,prefix:w,suffix:x},z=g.some(function(a){if(null!=a.collapsed&&a.collapsed!==y.collapsed)return!1;if(null!=a.empty&&a.empty!==y.empty)return!1;if(null!=a.offset&&a.offset!==y.offset)return!1;if(Array.isArray(a.format)){if(a.format.every(function(a){return null==y.format[a]}))return!1}else if("object"===d(a.format)&&!Object.keys(a.format).every(function(b){return a.format[b]===!0?null!=y.format[b]:a.format[b]===!1?null==y.format[b]:(0,j.default)(a.format[b],y.format[b])}))return!1;return!(null!=a.prefix&&!a.prefix.test(y.prefix))&&(!(null!=a.suffix&&!a.suffix.test(y.suffix))&&a.handler.call(c,h,y)!==!0)});z&&a.preventDefault()}}}})}}]),b}(v.default);C.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},C.DEFAULTS={bindings:{bold:I("bold"),italic:I("italic"),underline:I("underline"),indent:{key:C.keys.TAB,format:["blockquote","indent","list"],handler:function(b,c){return!(!c.collapsed||0===c.offset)||void this.quill.format("indent","+1",r.default.sources.USER)}},outdent:{key:C.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(b,c){return!(!c.collapsed||0===c.offset)||void this.quill.format("indent","-1",r.default.sources.USER)}},"outdent backspace":{key:C.keys.BACKSPACE,collapsed:!0,format:["blockquote","indent","list"],offset:0,handler:function(b,c){null!=c.format.indent?this.quill.format("indent","-1",r.default.sources.USER):null!=c.format.blockquote?this.quill.format("blockquote",!1,r.default.sources.USER):null!=c.format.list&&this.quill.format("list",!1,r.default.sources.USER)}},"indent code-block":H(!0),"outdent code-block":H(!1),"remove tab":{key:C.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(b){this.quill.deleteText(b.index-1,1,r.default.sources.USER)}},tab:{key:C.keys.TAB,handler:function(b,c){c.collapsed||this.quill.scroll.deleteAt(b.index,b.length),this.quill.insertText(b.index,"\t",r.default.sources.USER),this.quill.setSelection(b.index+1,r.default.sources.SILENT)}},"list empty enter":{key:C.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(b,c){this.quill.format("list",!1,r.default.sources.USER),c.format.indent&&this.quill.format("indent",!1,r.default.sources.USER)}},"checklist enter":{key:C.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(b){this.quill.scroll.insertAt(b.index,"\n");var c=this.quill.getLine(b.index+1),d=e(c,1),f=d[0];f.format("list","unchecked"),this.quill.update(r.default.sources.USER),this.quill.setSelection(b.index+1,r.default.sources.SILENT),this.quill.selection.scrollIntoView()}},"header enter":{key:C.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(b){this.quill.scroll.insertAt(b.index,"\n"),this.quill.formatText(b.index+1,1,"header",!1,r.default.sources.USER),this.quill.setSelection(b.index+1,r.default.sources.SILENT),this.quill.selection.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^(1\.|-)$/,handler:function(b,c){if(null!=this.quill.scroll.whitelist&&!this.quill.scroll.whitelist.list)return!0;var d=c.prefix.length;this.quill.scroll.deleteAt(b.index-d,d),this.quill.formatLine(b.index-d,1,"list",1===d?"bullet":"ordered",r.default.sources.USER),
    this.quill.setSelection(b.index-d,r.default.sources.SILENT)}},"code exit":{key:C.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(b){this.quill.format("code-block",!1,r.default.sources.USER),this.quill.deleteText(b.index-2,1,r.default.sources.USER)}}}},b.default=C}])}),function(){function b(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}var a={theme:"snow",modules:{toolbar:[[{header:[1,2,3,!1]}],[{color:[]},{background:[]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["clean"]]}};window.Quilljs={setDefaults:function(b){a=$.extend(a,b),this.addQuillContainer(a)},loadDefaults:function(){this.addQuillContainer(a)},addQuillContainer:function(a){var c=function(b,c){var g=d(c,c.id+"-quill");$(c).attr("placeholder").length>0&&(a.placeholder=$(c).attr("placeholder")),window["quill-container-"+b]=new Quill(g,a),($(c).attr("maxlength")||$(c).attr("minlength"))&&e(c,g),window["quill-container-"+b].on("editor-change",function(){f(c,g)})},d=function(a,b){return $(a).hide().after('<div class="form-control '+b+'"></div>'),b="."+b,$(b).html($(a).val()),b},e=function(a,b){var c=b+" .ql-editor";$(a).attr("maxlength")&&$(c).attr("maxlength",$(a).attr("maxlength")),$(a).attr("minlength")&&$(c).attr("minlength",$(a).attr("minlength")),$(a).removeAttr("maxlength").removeAttr("minlength")},f=b(function(a,b){$(a).val($(b+" .ql-editor").html())},500),g=$(".rich_area");g.length>0&&g.each(function(a,b){return c(a,b)})}},$(document).on("ready page:change turbolinks:load",function(){$(".ql-editor").length<=0&&Quilljs.loadDefaults()})}(jQuery);